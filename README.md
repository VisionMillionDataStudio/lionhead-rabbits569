# å…”å­æ£€æµ‹æ£€æµ‹ç³»ç»Ÿæºç åˆ†äº«
 # [ä¸€æ¡é¾™æ•™å­¦YOLOV8æ ‡æ³¨å¥½çš„æ•°æ®é›†ä¸€é”®è®­ç»ƒ_70+å…¨å¥—æ”¹è¿›åˆ›æ–°ç‚¹å‘åˆŠ_Webå‰ç«¯å±•ç¤º]

### 1.ç ”ç©¶èƒŒæ™¯ä¸æ„ä¹‰

é¡¹ç›®å‚è€ƒ[AAAI Association for the Advancement of Artificial Intelligence](https://gitee.com/qunshansj/projects)

é¡¹ç›®æ¥æº[AACV Association for the Advancement of Computer Vision](https://gitee.com/qunmasj/projects)

ç ”ç©¶èƒŒæ™¯ä¸æ„ä¹‰

éšç€è®¡ç®—æœºè§†è§‰æŠ€æœ¯çš„å¿«é€Ÿå‘å±•ï¼Œç‰©ä½“æ£€æµ‹åœ¨å¤šä¸ªé¢†åŸŸä¸­å¾—åˆ°äº†å¹¿æ³›åº”ç”¨ï¼ŒåŒ…æ‹¬è‡ªåŠ¨é©¾é©¶ã€å®‰é˜²ç›‘æ§ã€å†œä¸šç›‘æµ‹ç­‰ã€‚å°¤å…¶æ˜¯åœ¨åŠ¨ç‰©è¯†åˆ«å’Œç›‘æµ‹æ–¹é¢ï¼Œç‰©ä½“æ£€æµ‹æŠ€æœ¯çš„åº”ç”¨æ½œåŠ›å·¨å¤§ã€‚å…”å­ä½œä¸ºä¸€ç§é‡è¦çš„å®éªŒåŠ¨ç‰©å’Œç»æµåŠ¨ç‰©ï¼Œå…¶ç§ç±»ç¹å¤šï¼Œå°¤å…¶æ˜¯ç‹®å¤´å…”ï¼ˆlionhead rabbitï¼‰å› å…¶ç‹¬ç‰¹çš„å¤–è§‚å’Œæ€§æ ¼å—åˆ°å¹¿æ³›å–œçˆ±ã€‚ç„¶è€Œï¼Œä¼ ç»Ÿçš„å…”å­æ£€æµ‹æ–¹æ³•å¾€å¾€ä¾èµ–äºäººå·¥è¯†åˆ«ï¼Œä¸ä»…æ•ˆç‡ä½ä¸‹ï¼Œè€Œä¸”å®¹æ˜“å—åˆ°äººä¸ºå› ç´ çš„å½±å“ï¼Œå¯¼è‡´è¯†åˆ«å‡†ç¡®ç‡ä½ã€‚å› æ­¤ï¼ŒåŸºäºæ·±åº¦å­¦ä¹ çš„è‡ªåŠ¨åŒ–å…”å­æ£€æµ‹ç³»ç»Ÿçš„ç ”ç©¶æ˜¾å¾—å°¤ä¸ºé‡è¦ã€‚

YOLOï¼ˆYou Only Look Onceï¼‰ç³»åˆ—æ¨¡å‹å› å…¶é«˜æ•ˆçš„å®æ—¶æ£€æµ‹èƒ½åŠ›è€Œå—åˆ°å¹¿æ³›å…³æ³¨ã€‚YOLOv8ä½œä¸ºè¯¥ç³»åˆ—çš„æœ€æ–°ç‰ˆæœ¬ï¼Œåœ¨ç²¾åº¦å’Œé€Ÿåº¦ä¸Šéƒ½æœ‰äº†æ˜¾è‘—æå‡ã€‚é€šè¿‡æ”¹è¿›YOLOv8æ¨¡å‹ï¼Œæˆ‘ä»¬å¯ä»¥é’ˆå¯¹ç‰¹å®šçš„å…”å­ç§ç±»è¿›è¡Œæ›´ä¸ºç²¾å‡†çš„æ£€æµ‹ï¼Œå°¤å…¶æ˜¯ç‹®å¤´å…”è¿™ä¸€ç‰¹å®šç±»åˆ«ã€‚æˆ‘ä»¬çš„ç ”ç©¶å°†åˆ©ç”¨åŒ…å«2200å¼ ç‹®å¤´å…”å›¾åƒçš„æ•°æ®é›†è¿›è¡Œæ¨¡å‹è®­ç»ƒä¸æµ‹è¯•ï¼Œè¿™ä¸€æ•°æ®é›†ä¸ä»…æ•°é‡å¯è§‚ï¼Œè€Œä¸”ä¸ºæ¨¡å‹æä¾›äº†ä¸°å¯Œçš„æ ·æœ¬ï¼Œæœ‰åŠ©äºæé«˜æ£€æµ‹çš„å‡†ç¡®æ€§å’Œé²æ£’æ€§ã€‚

æœ¬ç ”ç©¶çš„æ„ä¹‰åœ¨äºï¼Œé€šè¿‡æ”¹è¿›YOLOv8æ¨¡å‹ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°å¯¹ç‹®å¤´å…”çš„é«˜æ•ˆã€å‡†ç¡®æ£€æµ‹ï¼Œè¿›è€Œæ¨åŠ¨åŠ¨ç‰©ç›‘æµ‹æŠ€æœ¯çš„å‘å±•ã€‚é¦–å…ˆï¼Œæ”¹è¿›åçš„æ£€æµ‹ç³»ç»Ÿèƒ½å¤Ÿåœ¨ä¸åŒç¯å¢ƒä¸‹å¿«é€Ÿè¯†åˆ«ç‹®å¤´å…”ï¼Œå¸®åŠ©ç§‘ç ”äººå‘˜å’Œå…»æ®–æˆ·å®æ—¶ç›‘æ§å…”å­çš„æ´»åŠ¨çŠ¶æ€ï¼ŒåŠæ—¶å‘ç°æ½œåœ¨é—®é¢˜ã€‚å…¶æ¬¡ï¼Œè¯¥ç³»ç»Ÿçš„åº”ç”¨å°†ä¸ºåŠ¨ç‰©ä¿æŠ¤å’Œç®¡ç†æä¾›ç§‘å­¦ä¾æ®ï¼Œä¿ƒè¿›å…”å­ç§ç¾¤çš„å¯æŒç»­å‘å±•ã€‚æ­¤å¤–ï¼ŒåŸºäºYOLOv8çš„å…”å­æ£€æµ‹ç³»ç»Ÿè¿˜å¯ä»¥ä¸ºå…¶ä»–åŠ¨ç‰©çš„æ£€æµ‹æä¾›å€Ÿé‰´ï¼Œæ¨åŠ¨è®¡ç®—æœºè§†è§‰æŠ€æœ¯åœ¨åŠ¨ç‰©è¯†åˆ«é¢†åŸŸçš„è¿›ä¸€æ­¥åº”ç”¨ã€‚

æ­¤å¤–ï¼Œéšç€æ•°æ®ç§‘å­¦å’Œäººå·¥æ™ºèƒ½æŠ€æœ¯çš„ä¸æ–­è¿›æ­¥ï¼Œå¦‚ä½•æœ‰æ•ˆåˆ©ç”¨æ•°æ®é›†ä¸­çš„ä¿¡æ¯è¿›è¡Œæ¨¡å‹è®­ç»ƒå’Œä¼˜åŒ–æˆä¸ºç ”ç©¶çš„å…³é”®ã€‚æˆ‘ä»¬å°†æ¢ç´¢æ•°æ®å¢å¼ºã€è¿ç§»å­¦ä¹ ç­‰æŠ€æœ¯ï¼Œä»¥æé«˜æ¨¡å‹åœ¨ç‹®å¤´å…”æ£€æµ‹ä¸­çš„è¡¨ç°ã€‚è¿™ä¸ä»…æœ‰åŠ©äºæå‡æ£€æµ‹ç³»ç»Ÿçš„æ€§èƒ½ï¼Œä¹Ÿä¸ºåç»­çš„ç ”ç©¶æä¾›äº†æ–°çš„æ€è·¯å’Œæ–¹æ³•ã€‚

ç»¼ä¸Šæ‰€è¿°ï¼ŒåŸºäºæ”¹è¿›YOLOv8çš„å…”å­æ£€æµ‹ç³»ç»Ÿçš„ç ”ç©¶å…·æœ‰é‡è¦çš„ç†è®ºä»·å€¼å’Œå®é™…æ„ä¹‰ã€‚å®ƒä¸ä»…ä¸ºåŠ¨ç‰©ç›‘æµ‹æä¾›äº†æ–°çš„æŠ€æœ¯æ‰‹æ®µï¼Œä¹Ÿä¸ºç›¸å…³é¢†åŸŸçš„ç ”ç©¶æä¾›äº†æ–°çš„è§†è§’å’Œæ–¹æ³•ã€‚é€šè¿‡è¿™ä¸€ç ”ç©¶ï¼Œæˆ‘ä»¬æœŸæœ›èƒ½å¤Ÿæ¨åŠ¨å…”å­æ£€æµ‹æŠ€æœ¯çš„å‘å±•ï¼Œä¸ºåŠ¨ç‰©ä¿æŠ¤å’Œç®¡ç†è´¡çŒ®ä¸€ä»½åŠ›é‡ã€‚

### 2.å›¾ç‰‡æ¼”ç¤º

![1.png](1.png)

![2.png](2.png)

![3.png](3.png)

##### æ³¨æ„ï¼šç”±äºæ­¤åšå®¢ç¼–è¾‘è¾ƒæ—©ï¼Œä¸Šé¢â€œ2.å›¾ç‰‡æ¼”ç¤ºâ€å’Œâ€œ3.è§†é¢‘æ¼”ç¤ºâ€å±•ç¤ºçš„ç³»ç»Ÿå›¾ç‰‡æˆ–è€…è§†é¢‘å¯èƒ½ä¸ºè€ç‰ˆæœ¬ï¼Œæ–°ç‰ˆæœ¬åœ¨è€ç‰ˆæœ¬çš„åŸºç¡€ä¸Šå‡çº§å¦‚ä¸‹ï¼šï¼ˆå®é™…æ•ˆæœä»¥å‡çº§çš„æ–°ç‰ˆæœ¬ä¸ºå‡†ï¼‰

  ï¼ˆ1ï¼‰é€‚é…äº†YOLOV8çš„â€œç›®æ ‡æ£€æµ‹â€æ¨¡å‹å’Œâ€œå®ä¾‹åˆ†å‰²â€æ¨¡å‹ï¼Œé€šè¿‡åŠ è½½ç›¸åº”çš„æƒé‡ï¼ˆ.ptï¼‰æ–‡ä»¶å³å¯è‡ªé€‚åº”åŠ è½½æ¨¡å‹ã€‚

  ï¼ˆ2ï¼‰æ”¯æŒâ€œå›¾ç‰‡è¯†åˆ«â€ã€â€œè§†é¢‘è¯†åˆ«â€ã€â€œæ‘„åƒå¤´å®æ—¶è¯†åˆ«â€ä¸‰ç§è¯†åˆ«æ¨¡å¼ã€‚

  ï¼ˆ3ï¼‰æ”¯æŒâ€œå›¾ç‰‡è¯†åˆ«â€ã€â€œè§†é¢‘è¯†åˆ«â€ã€â€œæ‘„åƒå¤´å®æ—¶è¯†åˆ«â€ä¸‰ç§è¯†åˆ«ç»“æœä¿å­˜å¯¼å‡ºï¼Œè§£å†³æ‰‹åŠ¨å¯¼å‡ºï¼ˆå®¹æ˜“å¡é¡¿å‡ºç°çˆ†å†…å­˜ï¼‰å­˜åœ¨çš„é—®é¢˜ï¼Œè¯†åˆ«å®Œè‡ªåŠ¨ä¿å­˜ç»“æœå¹¶å¯¼å‡ºåˆ°tempDirä¸­ã€‚

  ï¼ˆ4ï¼‰æ”¯æŒWebå‰ç«¯ç³»ç»Ÿä¸­çš„æ ‡é¢˜ã€èƒŒæ™¯å›¾ç­‰è‡ªå®šä¹‰ä¿®æ”¹ï¼Œåé¢æä¾›ä¿®æ”¹æ•™ç¨‹ã€‚

  å¦å¤–æœ¬é¡¹ç›®æä¾›è®­ç»ƒçš„æ•°æ®é›†å’Œè®­ç»ƒæ•™ç¨‹,æš‚ä¸æä¾›æƒé‡æ–‡ä»¶ï¼ˆbest.ptï¼‰,éœ€è¦æ‚¨æŒ‰ç…§æ•™ç¨‹è¿›è¡Œè®­ç»ƒåå®ç°å›¾ç‰‡æ¼”ç¤ºå’ŒWebå‰ç«¯ç•Œé¢æ¼”ç¤ºçš„æ•ˆæœã€‚

### 3.è§†é¢‘æ¼”ç¤º

[3.1 è§†é¢‘æ¼”ç¤º](https://www.bilibili.com/video/BV1xHtpeNEPC/)

### 4.æ•°æ®é›†ä¿¡æ¯å±•ç¤º

##### 4.1 æœ¬é¡¹ç›®æ•°æ®é›†è¯¦ç»†æ•°æ®ï¼ˆç±»åˆ«æ•°ï¼†ç±»åˆ«åï¼‰

nc: 1
names: ['lionhead']


##### 4.2 æœ¬é¡¹ç›®æ•°æ®é›†ä¿¡æ¯ä»‹ç»

æ•°æ®é›†ä¿¡æ¯å±•ç¤º

åœ¨æœ¬ç ”ç©¶ä¸­ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†åä¸ºâ€œlionhead rabbitsâ€çš„æ•°æ®é›†ï¼Œä»¥æ”¯æŒå¯¹YOLOv8æ¨¡å‹çš„æ”¹è¿›ï¼Œä¸“æ³¨äºå…”å­æ£€æµ‹ç³»ç»Ÿçš„è®­ç»ƒä¸ä¼˜åŒ–ã€‚è¯¥æ•°æ®é›†ä¸“é—¨é’ˆå¯¹ç‹®å¤´å…”ï¼ˆlionhead rabbitï¼‰è¿™ä¸€ç‰¹å®šå“ç§ï¼Œæ—¨åœ¨æé«˜è®¡ç®—æœºè§†è§‰ç³»ç»Ÿåœ¨å…”å­è¯†åˆ«å’Œåˆ†ç±»æ–¹é¢çš„å‡†ç¡®æ€§å’Œæ•ˆç‡ã€‚ç‹®å¤´å…”å› å…¶ç‹¬ç‰¹çš„å¤–è§‚ç‰¹å¾å’Œæ¸©é¡ºçš„æ€§æ ¼è€Œå—åˆ°å¹¿æ³›å–œçˆ±ï¼Œå› æ­¤åœ¨å® ç‰©å¸‚åœºä¸­å æœ‰é‡è¦åœ°ä½ã€‚ç„¶è€Œï¼Œç°æœ‰çš„å…”å­æ£€æµ‹ç³»ç»Ÿåœ¨è¯†åˆ«ç‰¹å®šå“ç§æ—¶å¸¸å¸¸é¢ä¸´æŒ‘æˆ˜ï¼Œè¿™ä¸ºæœ¬ç ”ç©¶æä¾›äº†é‡è¦çš„åˆ‡å…¥ç‚¹ã€‚

â€œlionhead rabbitsâ€æ•°æ®é›†çš„ç±»åˆ«æ•°é‡ä¸º1ï¼Œä¸“æ³¨äºç‹®å¤´å…”è¿™ä¸€å•ä¸€ç±»åˆ«ã€‚è¿™æ ·çš„è®¾è®¡ä½¿å¾—æ•°æ®é›†èƒ½å¤Ÿæ·±å…¥æŒ–æ˜ç‹®å¤´å…”çš„ç‰¹å¾ï¼Œä»è€Œä¸ºæ¨¡å‹æä¾›æ›´ä¸ºç²¾å‡†çš„è®­ç»ƒæ ·æœ¬ã€‚é€šè¿‡èšç„¦äºç‹®å¤´å…”ï¼Œç ”ç©¶å›¢é˜Ÿèƒ½å¤Ÿæ”¶é›†å’Œæ ‡æ³¨å¤§é‡ç›¸å…³å›¾åƒï¼Œè¿™äº›å›¾åƒæ¶µç›–äº†ä¸åŒçš„ç¯å¢ƒã€å§¿æ€å’Œå…‰ç…§æ¡ä»¶ï¼Œä»¥ç¡®ä¿æ¨¡å‹åœ¨å¤šæ ·åŒ–åœºæ™¯ä¸‹çš„é²æ£’æ€§å’Œé€‚åº”æ€§ã€‚æ•°æ®é›†ä¸­çš„å›¾åƒä¸ä»…åŒ…æ‹¬ç‹®å¤´å…”çš„æ­£é¢ã€ä¾§é¢å’ŒèƒŒé¢è§†è§’ï¼Œè¿˜æ¶µç›–äº†ä¸åŒå¹´é¾„æ®µå’Œä½“å‹çš„å…”å­ï¼Œä»¥ä¾¿æ¨¡å‹èƒ½å¤Ÿå­¦ä¹ åˆ°æ›´åŠ å…¨é¢çš„ç‰¹å¾è¡¨ç¤ºã€‚

åœ¨æ•°æ®é›†çš„æ„å»ºè¿‡ç¨‹ä¸­ï¼Œç ”ç©¶å›¢é˜Ÿé‡‡ç”¨äº†ä¸¥æ ¼çš„å›¾åƒé‡‡é›†å’Œæ ‡æ³¨æµç¨‹ã€‚æ¯å¼ å›¾åƒéƒ½ç»è¿‡ç²¾å¿ƒæŒ‘é€‰å’Œå¤„ç†ï¼Œç¡®ä¿å…¶è´¨é‡å’Œæ ‡æ³¨çš„å‡†ç¡®æ€§ã€‚æ ‡æ³¨è¿‡ç¨‹ä¸­ï¼Œç ”ç©¶äººå‘˜å¯¹æ¯ä¸€å¼ å›¾åƒä¸­çš„ç‹®å¤´å…”è¿›è¡Œäº†ç»†è‡´çš„æ¡†é€‰ï¼Œç¡®ä¿æ¨¡å‹åœ¨è®­ç»ƒæ—¶èƒ½å¤Ÿè·å¾—å‡†ç¡®çš„ä½ç½®ä¿¡æ¯ã€‚è¿™ç§é«˜è´¨é‡çš„æ ‡æ³¨ä¸ºåç»­çš„æ¨¡å‹è®­ç»ƒæä¾›äº†åšå®çš„åŸºç¡€ï¼Œä½¿å¾—YOLOv8èƒ½å¤Ÿåœ¨æ£€æµ‹ä»»åŠ¡ä¸­å®ç°æ›´é«˜çš„ç²¾åº¦ã€‚

ä¸ºäº†è¿›ä¸€æ­¥å¢å¼ºæ•°æ®é›†çš„å¤šæ ·æ€§ï¼Œç ”ç©¶å›¢é˜Ÿè¿˜è€ƒè™‘äº†æ•°æ®å¢å¼ºæŠ€æœ¯çš„åº”ç”¨ã€‚é€šè¿‡å¯¹åŸå§‹å›¾åƒè¿›è¡Œæ—‹è½¬ã€ç¼©æ”¾ã€ç¿»è½¬ç­‰å¤„ç†ï¼Œæ•°æ®é›†çš„æœ‰æ•ˆæ ·æœ¬æ•°é‡å¾—ä»¥æ˜¾è‘—å¢åŠ ã€‚è¿™ä¸ä»…æå‡äº†æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼Œè¿˜å‡å°‘äº†è¿‡æ‹Ÿåˆçš„é£é™©ï¼Œä½¿å¾—æœ€ç»ˆçš„æ£€æµ‹ç³»ç»Ÿåœ¨é¢å¯¹çœŸå®ä¸–ç•Œä¸­çš„å¤æ‚åœºæ™¯æ—¶èƒ½å¤Ÿè¡¨ç°å¾—æ›´åŠ å‡ºè‰²ã€‚

æ­¤å¤–ï¼Œæ•°æ®é›†çš„è®¾è®¡è¿˜è€ƒè™‘åˆ°äº†å®é™…åº”ç”¨ä¸­çš„éœ€æ±‚ã€‚éšç€å® ç‰©è¡Œä¸šçš„ä¸æ–­å‘å±•ï¼Œå…”å­ä½œä¸ºå® ç‰©çš„å—æ¬¢è¿ç¨‹åº¦é€æ¸ä¸Šå‡ï¼Œç›¸å…³çš„æ£€æµ‹å’Œç®¡ç†éœ€æ±‚ä¹Ÿéšä¹‹å¢åŠ ã€‚å› æ­¤ï¼ŒåŸºäºâ€œlionhead rabbitsâ€æ•°æ®é›†è®­ç»ƒçš„æ£€æµ‹ç³»ç»Ÿï¼Œèƒ½å¤Ÿä¸ºå® ç‰©åº—ã€åŠ¨ç‰©æ”¶å®¹æ‰€ä»¥åŠå®¶åº­å…»å…”è€…æä¾›æœ‰æ•ˆçš„æ”¯æŒï¼Œå¸®åŠ©ä»–ä»¬æ›´å¥½åœ°è¯†åˆ«å’Œç®¡ç†ç‹®å¤´å…”ã€‚

ç»¼ä¸Šæ‰€è¿°ï¼Œâ€œlionhead rabbitsâ€æ•°æ®é›†ä¸ºæœ¬ç ”ç©¶æä¾›äº†ä¸€ä¸ªç†æƒ³çš„åŸºç¡€ï¼ŒåŠ©åŠ›äºæ”¹è¿›YOLOv8æ¨¡å‹åœ¨å…”å­æ£€æµ‹ä»»åŠ¡ä¸­çš„è¡¨ç°ã€‚é€šè¿‡ä¸“æ³¨äºç‹®å¤´å…”è¿™ä¸€ç‰¹å®šç±»åˆ«ï¼Œç»“åˆé«˜è´¨é‡çš„å›¾åƒå’Œç²¾ç¡®çš„æ ‡æ³¨ï¼Œç ”ç©¶å›¢é˜ŸæœŸæœ›èƒ½å¤Ÿå¼€å‘å‡ºä¸€ä¸ªé«˜æ•ˆã€å‡†ç¡®çš„å…”å­æ£€æµ‹ç³»ç»Ÿï¼Œä¸ºç›¸å…³é¢†åŸŸçš„åº”ç”¨æä¾›åˆ‡å®çš„è§£å†³æ–¹æ¡ˆã€‚

![4.png](4.png)

![5.png](5.png)

![6.png](6.png)

![7.png](7.png)

![8.png](8.png)

### 5.å…¨å¥—é¡¹ç›®ç¯å¢ƒéƒ¨ç½²è§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰

[5.1 ç¯å¢ƒéƒ¨ç½²æ•™ç¨‹é“¾æ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404473917358506534?logTag=c807d0cbc21c0ef59de5)




[5.2 å®‰è£…Pythonè™šæ‹Ÿç¯å¢ƒåˆ›å»ºå’Œä¾èµ–åº“å®‰è£…è§†é¢‘æ•™ç¨‹é“¾æ¥ï¼ˆé›¶åŸºç¡€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼‰](https://www.ixigua.com/7404474678003106304?logTag=1f1041108cd1f708b01a)

### 6.æ‰‹æŠŠæ‰‹YOLOV8è®­ç»ƒè§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€å°ç™½æœ‰æ‰‹å°±èƒ½å­¦ä¼šï¼‰

[6.1 æ‰‹æŠŠæ‰‹YOLOV8è®­ç»ƒè§†é¢‘æ•™ç¨‹ï¼ˆé›¶åŸºç¡€å°ç™½æœ‰æ‰‹å°±èƒ½å­¦ä¼šï¼‰](https://www.ixigua.com/7404477157818401292?logTag=d31a2dfd1983c9668658)

### 7.70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹ä»£ç åŠ è½½è°ƒå‚è§†é¢‘æ•™ç¨‹ï¼ˆä¸€é”®åŠ è½½å†™å¥½çš„æ”¹è¿›æ¨¡å‹çš„é…ç½®æ–‡ä»¶ï¼‰

[7.1 70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹ä»£ç åŠ è½½è°ƒå‚è§†é¢‘æ•™ç¨‹ï¼ˆä¸€é”®åŠ è½½å†™å¥½çš„æ”¹è¿›æ¨¡å‹çš„é…ç½®æ–‡ä»¶ï¼‰](https://www.ixigua.com/7404478314661806627?logTag=29066f8288e3f4eea3a4)

### 8.70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹åŸç†è®²è§£ï¼ˆéç§‘ç­ä¹Ÿå¯ä»¥è½»æ¾å†™åˆŠå‘åˆŠï¼ŒV10ç‰ˆæœ¬æ­£åœ¨ç§‘ç ”å¾…æ›´æ–°ï¼‰

ç”±äºç¯‡å¹…é™åˆ¶ï¼Œæ¯ä¸ªåˆ›æ–°ç‚¹çš„å…·ä½“åŸç†è®²è§£å°±ä¸ä¸€ä¸€å±•å¼€ï¼Œå…·ä½“è§ä¸‹åˆ—ç½‘å€ä¸­çš„åˆ›æ–°ç‚¹å¯¹åº”å­é¡¹ç›®çš„æŠ€æœ¯åŸç†åšå®¢ç½‘å€ã€Blogã€‘ï¼š

![9.png](9.png)

[8.1 70+ç§å…¨å¥—YOLOV8åˆ›æ–°ç‚¹åŸç†è®²è§£é“¾æ¥](https://gitee.com/qunmasj/good)

### 9.ç³»ç»ŸåŠŸèƒ½å±•ç¤ºï¼ˆæ£€æµ‹å¯¹è±¡ä¸ºä¸¾ä¾‹ï¼Œå®é™…å†…å®¹ä»¥æœ¬é¡¹ç›®æ•°æ®é›†ä¸ºå‡†ï¼‰

å›¾9.1.ç³»ç»Ÿæ”¯æŒæ£€æµ‹ç»“æœè¡¨æ ¼æ˜¾ç¤º

  å›¾9.2.ç³»ç»Ÿæ”¯æŒç½®ä¿¡åº¦å’ŒIOUé˜ˆå€¼æ‰‹åŠ¨è°ƒèŠ‚

  å›¾9.3.ç³»ç»Ÿæ”¯æŒè‡ªå®šä¹‰åŠ è½½æƒé‡æ–‡ä»¶best.pt(éœ€è¦ä½ é€šè¿‡æ­¥éª¤5ä¸­è®­ç»ƒè·å¾—)

  å›¾9.4.ç³»ç»Ÿæ”¯æŒæ‘„åƒå¤´å®æ—¶è¯†åˆ«

  å›¾9.5.ç³»ç»Ÿæ”¯æŒå›¾ç‰‡è¯†åˆ«

  å›¾9.6.ç³»ç»Ÿæ”¯æŒè§†é¢‘è¯†åˆ«

  å›¾9.7.ç³»ç»Ÿæ”¯æŒè¯†åˆ«ç»“æœæ–‡ä»¶è‡ªåŠ¨ä¿å­˜

  å›¾9.8.ç³»ç»Ÿæ”¯æŒExcelå¯¼å‡ºæ£€æµ‹ç»“æœæ•°æ®

![10.png](10.png)

![11.png](11.png)

![12.png](12.png)

![13.png](13.png)

![14.png](14.png)

![15.png](15.png)

![16.png](16.png)

![17.png](17.png)

### 10.åŸå§‹YOLOV8ç®—æ³•åŸç†

åŸå§‹YOLOv8ç®—æ³•åŸç†

YOLOv8æ˜¯ç›®æ ‡æ£€æµ‹é¢†åŸŸçš„ä¸€é¡¹é‡è¦è¿›å±•ï¼Œä½œä¸ºYOLOç³»åˆ—çš„æœ€æ–°ç‰ˆæœ¬ï¼Œå®ƒåœ¨å¤šä¸ªæ–¹é¢è¿›è¡Œäº†åˆ›æ–°å’Œä¼˜åŒ–ï¼Œä½¿å…¶åœ¨ç²¾åº¦å’Œé€Ÿåº¦ä¸Šå‡è¡¨ç°å‡ºè‰²ã€‚è‡ª2015å¹´YOLOæ¨¡å‹é¦–æ¬¡æå‡ºä»¥æ¥ï¼Œç»è¿‡å¤šä¸ªç‰ˆæœ¬çš„è¿­ä»£ï¼ŒYOLOv8åœ¨ä¿æŒé«˜æ•ˆæ€§çš„åŒæ—¶ï¼Œè¿›ä¸€æ­¥æå‡äº†æ¨¡å‹çš„å¯ç”¨æ€§å’Œçµæ´»æ€§ã€‚å…¶ç»“æ„ä¸»è¦ç”±Backboneã€Neckå’ŒHeadä¸‰éƒ¨åˆ†ç»„æˆï¼Œåˆ†åˆ«è´Ÿè´£ç‰¹å¾æå–ã€ç‰¹å¾èåˆå’Œç›®æ ‡æ£€æµ‹è¾“å‡ºã€‚

åœ¨Backboneéƒ¨åˆ†ï¼ŒYOLOv8å»¶ç»­äº†YOLOv5çš„CSPDarknetè®¾è®¡ç†å¿µï¼Œä½†å¯¹å…¶è¿›è¡Œäº†æ”¹è¿›ï¼Œé‡‡ç”¨äº†C2fæ¨¡å—æ›¿ä»£äº†C3æ¨¡å—ã€‚è¿™ä¸€å˜åŒ–ä¸ä»…å®ç°äº†æ¨¡å‹çš„è½»é‡åŒ–ï¼Œè¿˜åœ¨ç‰¹å¾æå–çš„ç²¾åº¦ä¸Šæ²¡æœ‰å¦¥åã€‚C2fæ¨¡å—çš„è®¾è®¡çµæ„Ÿæ¥æºäºYOLOv7çš„ELANç»“æ„ï¼Œå…·æœ‰ä¸¤ä¸ªåˆ†æ”¯çš„ç‰¹æ€§ï¼Œä½¿å¾—ç‰¹å¾æå–è¿‡ç¨‹ä¸­çš„æ¢¯åº¦æµåŠ¨æ›´åŠ é¡ºç•…ï¼Œè¿›è€Œç¼“è§£äº†æ·±å±‚ç½‘ç»œä¸­çš„æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ã€‚C2fæ¨¡å—é€šè¿‡å°†ç‰¹å¾å›¾åˆ†ä¸ºä¸¤ä¸ªåˆ†æ”¯è¿›è¡Œå¤„ç†ï¼Œèƒ½å¤Ÿæœ‰æ•ˆåœ°æ•æ‰åˆ°ä¸åŒå±‚æ¬¡çš„ç‰¹å¾ä¿¡æ¯ï¼Œå¹¶åœ¨æœ€ç»ˆè¾“å‡ºæ—¶è¿›è¡Œèåˆï¼Œç¡®ä¿äº†æ¨¡å‹åœ¨å¤šå°ºåº¦ç‰¹å¾æå–ä¸Šçš„èƒ½åŠ›ã€‚

Neckéƒ¨åˆ†é‡‡ç”¨äº†PAN-FPNç»“æ„ï¼Œè¿™ä¸€è®¾è®¡æ—¨åœ¨å……åˆ†èåˆä¸åŒå±‚æ¬¡çš„ç‰¹å¾ä¿¡æ¯ã€‚é€šè¿‡è‡ªä¸‹è€Œä¸Šçš„é«˜å±‚ç‰¹å¾ä¸ä¸­å±‚ã€æµ…å±‚ç‰¹å¾çš„èåˆï¼ŒYOLOv8èƒ½å¤Ÿæ›´å¥½åœ°æ•æ‰åˆ°ç›®æ ‡çš„ç»†èŠ‚ä¿¡æ¯å’Œè¯­ä¹‰ä¿¡æ¯ã€‚Neckç»“æ„ä¸­çš„ç‰¹å¾èåˆä¸ä»…æé«˜äº†æ¨¡å‹å¯¹å°ç›®æ ‡çš„æ£€æµ‹èƒ½åŠ›ï¼Œè¿˜å¢å¼ºäº†å¯¹å¤æ‚åœºæ™¯çš„é€‚åº”æ€§ã€‚YOLOv8åœ¨è¿™ä¸€éƒ¨åˆ†çš„è®¾è®¡ä¸Šè¿›è¡Œäº†åˆ›æ–°ï¼Œå»é™¤äº†YOLOv5ä¸­ä¸Šé‡‡æ ·é˜¶æ®µçš„1x1å·ç§¯ï¼Œç›´æ¥å°†é«˜å±‚ç‰¹å¾è¿›è¡Œä¸Šé‡‡æ ·å¹¶ä¸ä¸­å±‚ç‰¹å¾è¿›è¡Œè¿æ¥ï¼Œç¡®ä¿äº†ç‰¹å¾ä¿¡æ¯çš„è¿ç»­æ€§å’Œå®Œæ•´æ€§ã€‚

åœ¨Headéƒ¨åˆ†ï¼ŒYOLOv8å¼•å…¥äº†Anchor-Freeçš„æ£€æµ‹æ€æƒ³ï¼Œæ‘’å¼ƒäº†ä¼ ç»Ÿçš„Anchor-Baseæ–¹æ³•ã€‚è¿™ä¸€è½¬å˜ä½¿å¾—æ¨¡å‹åœ¨å¤„ç†ç›®æ ‡æ—¶æ›´åŠ çµæ´»ï¼Œå°¤å…¶æ˜¯åœ¨é¢å¯¹ä¸åŒå°ºå¯¸å’Œå½¢çŠ¶çš„ç›®æ ‡æ—¶ï¼Œèƒ½å¤Ÿæœ‰æ•ˆå‡å°‘å…ˆéªŒæ¡†çš„è®¾ç½®å¸¦æ¥çš„å±€é™æ€§ã€‚YOLOv8çš„Headç»“æ„è®¾è®¡å€Ÿé‰´äº†YOLOXå’ŒYOLOv6çš„è§£è€¦å¤´ï¼Œé‡‡ç”¨äº†äºŒé˜¶æ®µFCOSç›®æ ‡æ£€æµ‹ç½‘ç»œçš„è®¾è®¡ï¼Œåˆ†ç±»å’Œå›å½’åˆ†æ”¯è¢«è§£è€¦å¤„ç†ï¼Œä»è€Œæé«˜äº†æ£€æµ‹çš„ç²¾åº¦å’Œæ•ˆç‡ã€‚

åœ¨æŸå¤±å‡½æ•°çš„è®¾è®¡ä¸Šï¼ŒYOLOv8ä½¿ç”¨äº†VFLLossä½œä¸ºåˆ†ç±»æŸå¤±ï¼Œå¹¶ç»“åˆDFLLosså’ŒCIoULossä½œä¸ºå›å½’æŸå¤±ã€‚è¿™ç§ç»„åˆä¸ä»…æé«˜äº†æ¨¡å‹åœ¨å¤æ‚åœºæ™¯ä¸‹çš„åˆ†ç±»ç²¾åº¦ï¼Œè¿˜å¢å¼ºäº†å¯¹ç›®æ ‡è¾¹ç•Œæ¡†çš„å›å½’èƒ½åŠ›ã€‚ç‰¹åˆ«æ˜¯åœ¨å¤„ç†æ ·æœ¬ä¸å¹³è¡¡é—®é¢˜æ—¶ï¼ŒYOLOv8é€šè¿‡FocalLossçš„å¼•å…¥ï¼Œèƒ½å¤Ÿæœ‰æ•ˆåœ°èšç„¦äºéš¾ä»¥åˆ†ç±»çš„æ ·æœ¬ï¼Œæå‡äº†æ¨¡å‹çš„æ•´ä½“æ€§èƒ½ã€‚

ä¸ºäº†è¿›ä¸€æ­¥æå‡è®­ç»ƒæ•ˆæœï¼ŒYOLOv8åœ¨æ•°æ®é¢„å¤„ç†é˜¶æ®µé‡‡ç”¨äº†å¤šç§å¢å¼ºæ‰‹æ®µï¼ŒåŒ…æ‹¬é©¬èµ›å…‹å¢å¼ºã€æ··åˆå¢å¼ºã€ç©ºé—´æ‰°åŠ¨å’Œé¢œè‰²æ‰°åŠ¨ç­‰ã€‚è¿™äº›å¢å¼ºç­–ç•¥çš„åº”ç”¨ï¼Œä¸ä»…ä¸°å¯Œäº†è®­ç»ƒæ ·æœ¬çš„å¤šæ ·æ€§ï¼Œè¿˜æé«˜äº†æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼Œä½¿å…¶åœ¨å®é™…åº”ç”¨ä¸­è¡¨ç°æ›´åŠ ç¨³å¥ã€‚

YOLOv8çš„è®¾è®¡ç†å¿µå……åˆ†è€ƒè™‘äº†å®æ—¶æ£€æµ‹çš„éœ€æ±‚ï¼Œé€šè¿‡ä¼˜åŒ–ç½‘ç»œç»“æ„å’ŒæŸå¤±å‡½æ•°ï¼Œè¾¾åˆ°äº†é«˜æ•ˆçš„æ¨ç†é€Ÿåº¦å’Œå“è¶Šçš„æ£€æµ‹ç²¾åº¦ã€‚å…¶åœ¨ç¡¬ä»¶æ”¯æŒæ–¹é¢çš„å¹¿æ³›å…¼å®¹æ€§ï¼Œä½¿å¾—YOLOv8èƒ½å¤Ÿåœ¨å¤šç§è®¾å¤‡ä¸Šè¿è¡Œï¼Œæå¤§åœ°æ‹“å®½äº†å…¶åº”ç”¨åœºæ™¯ã€‚

æ€»çš„æ¥è¯´ï¼ŒYOLOv8åœ¨åŸæœ‰YOLOç³»åˆ—çš„åŸºç¡€ä¸Šï¼Œé€šè¿‡å¼•å…¥æ–°é¢–çš„ç½‘ç»œç»“æ„å’Œä¼˜åŒ–ç­–ç•¥ï¼Œè¿›ä¸€æ­¥æå‡äº†ç›®æ ‡æ£€æµ‹çš„æ€§èƒ½ã€‚å…¶é«˜æ•ˆçš„ç‰¹å¾æå–ã€çµæ´»çš„ç‰¹å¾èåˆå’Œç²¾å‡†çš„ç›®æ ‡æ£€æµ‹èƒ½åŠ›ï¼Œä½¿å¾—YOLOv8æˆä¸ºå½“å‰ç›®æ ‡æ£€æµ‹é¢†åŸŸçš„ä¸€ä¸ªé‡è¦é‡Œç¨‹ç¢‘ï¼Œé¢„ç¤ºç€æœªæ¥åœ¨è‡ªåŠ¨åŒ–å’Œæ™ºèƒ½åŒ–åº”ç”¨ä¸­çš„å¹¿æ³›å‰æ™¯ã€‚æ— è®ºæ˜¯åœ¨å·¥ä¸šæ£€æµ‹ã€è‡ªåŠ¨é©¾é©¶è¿˜æ˜¯æ™ºèƒ½ç›‘æ§ç­‰é¢†åŸŸï¼ŒYOLOv8éƒ½å±•ç°å‡ºäº†å¼ºå¤§çš„åº”ç”¨æ½œåŠ›ï¼Œä¸ºç›¸å…³æŠ€æœ¯çš„å‘å±•æä¾›äº†æ–°çš„åŠ¨åŠ›ã€‚

![18.png](18.png)

### 11.é¡¹ç›®æ ¸å¿ƒæºç è®²è§£ï¼ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒçœ‹ä¸æ‡‚ä»£ç é€»è¾‘ï¼‰

#### 11.1 code\ultralytics\trackers\utils\gmc.py

ä»¥ä¸‹æ˜¯ç»è¿‡ç²¾ç®€å’Œæ³¨é‡Šçš„ä»£ç ï¼Œä¿ç•™äº†æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œå¹¶å¯¹æ¯ä¸ªé‡è¦çš„éƒ¨åˆ†è¿›è¡Œäº†è¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šï¼š

```python
import copy
import cv2
import numpy as np
from ultralytics.utils import LOGGER

class GMC:
    """
    é€šç”¨è¿åŠ¨è¡¥å¿ (GMC) ç±»ï¼Œç”¨äºè§†é¢‘å¸§ä¸­çš„è·Ÿè¸ªå’Œç‰©ä½“æ£€æµ‹ã€‚

    è¯¥ç±»æä¾›äº†åŸºäºå¤šç§è·Ÿè¸ªç®—æ³•ï¼ˆåŒ…æ‹¬ ORBã€SIFTã€ECC å’Œç¨€ç–å…‰æµï¼‰çš„ç‰©ä½“è·Ÿè¸ªå’Œæ£€æµ‹æ–¹æ³•ã€‚
    è¿˜æ”¯æŒå¯¹å¸§è¿›è¡Œä¸‹é‡‡æ ·ä»¥æé«˜è®¡ç®—æ•ˆç‡ã€‚
    """

    def __init__(self, method: str = "sparseOptFlow", downscale: int = 2) -> None:
        """
        åˆå§‹åŒ–è§†é¢‘è·Ÿè¸ªå™¨ï¼ŒæŒ‡å®šè·Ÿè¸ªæ–¹æ³•å’Œä¸‹é‡‡æ ·å› å­ã€‚

        å‚æ•°:
            method (str): ç”¨äºè·Ÿè¸ªçš„æ–¹æ³•ï¼ŒåŒ…æ‹¬ 'orb', 'sift', 'ecc', 'sparseOptFlow', 'none'ã€‚
            downscale (int): å¤„ç†å¸§çš„ä¸‹é‡‡æ ·å› å­ã€‚
        """
        self.method = method
        self.downscale = max(1, int(downscale))

        # æ ¹æ®é€‰æ‹©çš„æ–¹æ³•åˆå§‹åŒ–ç›¸åº”çš„æ£€æµ‹å™¨å’ŒåŒ¹é…å™¨
        if self.method == "orb":
            self.detector = cv2.FastFeatureDetector_create(20)
            self.extractor = cv2.ORB_create()
            self.matcher = cv2.BFMatcher(cv2.NORM_HAMMING)
        elif self.method == "sift":
            self.detector = cv2.SIFT_create()
            self.extractor = cv2.SIFT_create()
            self.matcher = cv2.BFMatcher(cv2.NORM_L2)
        elif self.method == "ecc":
            self.warp_mode = cv2.MOTION_EUCLIDEAN
            self.criteria = (cv2.TERM_CRITERIA_EPS | cv2.TERM_CRITERIA_COUNT, 5000, 1e-6)
        elif self.method == "sparseOptFlow":
            self.feature_params = dict(maxCorners=1000, qualityLevel=0.01, minDistance=1, blockSize=3)
        elif self.method in {"none", "None", None}:
            self.method = None
        else:
            raise ValueError(f"é”™è¯¯: æœªçŸ¥çš„ GMC æ–¹æ³•: {method}")

        # åˆå§‹åŒ–å‚æ•°
        self.prevFrame = None
        self.prevKeyPoints = None
        self.prevDescriptors = None
        self.initializedFirstFrame = False

    def apply(self, raw_frame: np.array) -> np.array:
        """
        ä½¿ç”¨æŒ‡å®šçš„æ–¹æ³•å¯¹åŸå§‹å¸§è¿›è¡Œç‰©ä½“æ£€æµ‹ã€‚

        å‚æ•°:
            raw_frame (np.array): è¦å¤„ç†çš„åŸå§‹å¸§ã€‚

        è¿”å›:
            (np.array): å¤„ç†åçš„å¸§ã€‚
        """
        if self.method in ["orb", "sift"]:
            return self.applyFeatures(raw_frame)
        elif self.method == "ecc":
            return self.applyEcc(raw_frame)
        elif self.method == "sparseOptFlow":
            return self.applySparseOptFlow(raw_frame)
        else:
            return np.eye(2, 3)

    def applyEcc(self, raw_frame: np.array) -> np.array:
        """
        å¯¹åŸå§‹å¸§åº”ç”¨ ECC ç®—æ³•ã€‚

        å‚æ•°:
            raw_frame (np.array): è¦å¤„ç†çš„åŸå§‹å¸§ã€‚

        è¿”å›:
            (np.array): å¤„ç†åçš„å¸§ã€‚
        """
        height, width, _ = raw_frame.shape
        frame = cv2.cvtColor(raw_frame, cv2.COLOR_BGR2GRAY)
        H = np.eye(2, 3)

        # å¯¹å›¾åƒè¿›è¡Œä¸‹é‡‡æ ·
        if self.downscale > 1.0:
            frame = cv2.resize(frame, (width // self.downscale, height // self.downscale))

        # å¤„ç†ç¬¬ä¸€å¸§
        if not self.initializedFirstFrame:
            self.prevFrame = frame.copy()
            self.initializedFirstFrame = True
            return H

        # è¿è¡Œ ECC ç®—æ³•
        try:
            (cc, H) = cv2.findTransformECC(self.prevFrame, frame, H, self.warp_mode, self.criteria)
        except Exception as e:
            LOGGER.warning(f"è­¦å‘Š: æ‰¾åˆ°å˜æ¢å¤±è´¥ï¼Œè®¾ç½®ä¸ºå•ä½çŸ©é˜µ {e}")

        return H

    def applyFeatures(self, raw_frame: np.array) -> np.array:
        """
        å¯¹åŸå§‹å¸§åº”ç”¨åŸºäºç‰¹å¾çš„æ–¹æ³•ï¼ˆå¦‚ ORB æˆ– SIFTï¼‰ã€‚

        å‚æ•°:
            raw_frame (np.array): è¦å¤„ç†çš„åŸå§‹å¸§ã€‚

        è¿”å›:
            (np.array): å¤„ç†åçš„å¸§ã€‚
        """
        height, width, _ = raw_frame.shape
        frame = cv2.cvtColor(raw_frame, cv2.COLOR_BGR2GRAY)
        H = np.eye(2, 3)

        # å¯¹å›¾åƒè¿›è¡Œä¸‹é‡‡æ ·
        if self.downscale > 1.0:
            frame = cv2.resize(frame, (width // self.downscale, height // self.downscale))

        # æ£€æµ‹å…³é”®ç‚¹
        keypoints = self.detector.detect(frame)

        # å¤„ç†ç¬¬ä¸€å¸§
        if not self.initializedFirstFrame:
            self.prevFrame = frame.copy()
            self.prevKeyPoints = copy.copy(keypoints)
            self.initializedFirstFrame = True
            return H

        # åŒ¹é…æè¿°ç¬¦
        knnMatches = self.matcher.knnMatch(self.prevDescriptors, keypoints, 2)

        # è¿‡æ»¤åŒ¹é…
        goodMatches = [m for m, n in knnMatches if m.distance < 0.75 * n.distance]

        # è®¡ç®—åˆšæ€§çŸ©é˜µ
        if len(goodMatches) > 4:
            prevPoints = np.array([self.prevKeyPoints[m.queryIdx].pt for m in goodMatches])
            currPoints = np.array([keypoints[m.trainIdx].pt for m in goodMatches])
            H, _ = cv2.estimateAffinePartial2D(prevPoints, currPoints, cv2.RANSAC)

        self.prevFrame = frame.copy()
        self.prevKeyPoints = copy.copy(keypoints)

        return H

    def applySparseOptFlow(self, raw_frame: np.array) -> np.array:
        """
        å¯¹åŸå§‹å¸§åº”ç”¨ç¨€ç–å…‰æµæ–¹æ³•ã€‚

        å‚æ•°:
            raw_frame (np.array): è¦å¤„ç†çš„åŸå§‹å¸§ã€‚

        è¿”å›:
            (np.array): å¤„ç†åçš„å¸§ã€‚
        """
        height, width, _ = raw_frame.shape
        frame = cv2.cvtColor(raw_frame, cv2.COLOR_BGR2GRAY)
        H = np.eye(2, 3)

        # å¯¹å›¾åƒè¿›è¡Œä¸‹é‡‡æ ·
        if self.downscale > 1.0:
            frame = cv2.resize(frame, (width // self.downscale, height // self.downscale))

        # æ£€æµ‹å…³é”®ç‚¹
        keypoints = cv2.goodFeaturesToTrack(frame, mask=None, **self.feature_params)

        # å¤„ç†ç¬¬ä¸€å¸§
        if not self.initializedFirstFrame:
            self.prevFrame = frame.copy()
            self.prevKeyPoints = copy.copy(keypoints)
            self.initializedFirstFrame = True
            return H

        # è®¡ç®—å…‰æµ
        matchedKeypoints, status, _ = cv2.calcOpticalFlowPyrLK(self.prevFrame, frame, self.prevKeyPoints, None)

        # è¿‡æ»¤æœ‰æ•ˆçš„åŒ¹é…ç‚¹
        prevPoints = np.array([self.prevKeyPoints[i] for i in range(len(status)) if status[i]])
        currPoints = np.array([matchedKeypoints[i] for i in range(len(status)) if status[i]])

        # è®¡ç®—åˆšæ€§çŸ©é˜µ
        if len(prevPoints) > 4:
            H, _ = cv2.estimateAffinePartial2D(prevPoints, currPoints, cv2.RANSAC)

        self.prevFrame = frame.copy()
        self.prevKeyPoints = copy.copy(keypoints)

        return H

    def reset_params(self) -> None:
        """é‡ç½®å‚æ•°ã€‚"""
        self.prevFrame = None
        self.prevKeyPoints = None
        self.prevDescriptors = None
        self.initializedFirstFrame = False
```

### ä»£ç æ ¸å¿ƒéƒ¨åˆ†è¯´æ˜ï¼š
1. **ç±»çš„åˆå§‹åŒ– (`__init__`)**ï¼šæ ¹æ®é€‰æ‹©çš„è·Ÿè¸ªæ–¹æ³•åˆå§‹åŒ–ä¸åŒçš„æ£€æµ‹å™¨å’ŒåŒ¹é…å™¨ï¼Œå¹¶è®¾ç½®ä¸€äº›åŸºæœ¬å‚æ•°ã€‚
2. **åº”ç”¨æ–¹æ³• (`apply`)**ï¼šæ ¹æ®é€‰æ‹©çš„è·Ÿè¸ªæ–¹æ³•è°ƒç”¨ç›¸åº”çš„å¤„ç†å‡½æ•°ã€‚
3. **ECC æ–¹æ³• (`applyEcc`)**ï¼šå®ç°äº†åŸºäºå¢å¼ºç›¸å…³æ€§ï¼ˆECCï¼‰çš„å›¾åƒé…å‡†ï¼Œå¤„ç†ç¬¬ä¸€å¸§å¹¶è®¡ç®—å˜æ¢çŸ©é˜µã€‚
4. **ç‰¹å¾æ–¹æ³• (`applyFeatures`)**ï¼šä½¿ç”¨ ORB æˆ– SIFT æ–¹æ³•æ£€æµ‹å…³é”®ç‚¹ï¼Œå¹¶è®¡ç®—åŒ¹é…ï¼Œè¿›è€Œä¼°è®¡åˆšæ€§å˜æ¢çŸ©é˜µã€‚
5. **ç¨€ç–å…‰æµæ–¹æ³• (`applySparseOptFlow`)**ï¼šä½¿ç”¨ç¨€ç–å…‰æµæ–¹æ³•è®¡ç®—å…³é”®ç‚¹çš„è¿åŠ¨ï¼Œå¹¶ä¼°è®¡å˜æ¢çŸ©é˜µã€‚
6. **é‡ç½®å‚æ•° (`reset_params`)**ï¼šç”¨äºé‡ç½®è·Ÿè¸ªå™¨çš„çŠ¶æ€ï¼Œä¾¿äºé‡æ–°å¼€å§‹è·Ÿè¸ªã€‚

ä»¥ä¸Šä»£ç æ˜¯å¯¹åŸå§‹ä»£ç çš„æ ¸å¿ƒéƒ¨åˆ†è¿›è¡Œäº†æç‚¼å’Œæ³¨é‡Šï¼Œä¿ç•™äº†ä¸»è¦åŠŸèƒ½å’Œé€»è¾‘ã€‚

è¿™ä¸ªæ–‡ä»¶å®šä¹‰äº†ä¸€ä¸ªåä¸º `GMC` çš„ç±»ï¼Œä¸»è¦ç”¨äºè§†é¢‘å¸§ä¸­çš„è·Ÿè¸ªå’Œç‰©ä½“æ£€æµ‹ã€‚å®ƒå®ç°äº†å¤šç§è·Ÿè¸ªç®—æ³•ï¼ŒåŒ…æ‹¬ ORBã€SIFTã€ECC å’Œç¨€ç–å…‰æµï¼Œå¹¶æ”¯æŒå¯¹å¸§è¿›è¡Œä¸‹é‡‡æ ·ä»¥æé«˜è®¡ç®—æ•ˆç‡ã€‚

åœ¨ `GMC` ç±»çš„æ„é€ å‡½æ•°ä¸­ï¼Œç”¨æˆ·å¯ä»¥æŒ‡å®šæ‰€ä½¿ç”¨çš„è·Ÿè¸ªæ–¹æ³•å’Œä¸‹é‡‡æ ·å› å­ã€‚æ ¹æ®æ‰€é€‰çš„æ–¹æ³•ï¼Œç±»ä¼šåˆå§‹åŒ–ç›¸åº”çš„ç‰¹å¾æ£€æµ‹å™¨ã€æè¿°ç¬¦æå–å™¨å’ŒåŒ¹é…å™¨ã€‚ä¾‹å¦‚ï¼Œå¦‚æœé€‰æ‹© ORB æ–¹æ³•ï¼Œç±»ä¼šåˆ›å»ºä¸€ä¸ª FAST ç‰¹å¾æ£€æµ‹å™¨å’Œ ORB æè¿°ç¬¦æå–å™¨ï¼›å¦‚æœé€‰æ‹© SIFT æ–¹æ³•ï¼Œåˆ™ä¼šåˆ›å»º SIFT ç‰¹å¾æ£€æµ‹å™¨å’Œæè¿°ç¬¦æå–å™¨ï¼›è€Œå¯¹äº ECC æ–¹æ³•ï¼Œåˆ™ä¼šè®¾ç½®ç›¸å…³çš„è¿­ä»£æ¬¡æ•°å’Œç»ˆæ­¢æ¡ä»¶ã€‚

ç±»çš„ä¸»è¦æ–¹æ³•æ˜¯ `apply`ï¼Œå®ƒæ ¹æ®æ‰€é€‰çš„æ–¹æ³•å¤„ç†è¾“å…¥çš„åŸå§‹å¸§ï¼Œå¹¶è¿”å›å¤„ç†åçš„å¸§ã€‚å…·ä½“æ¥è¯´ï¼Œå¦‚æœé€‰æ‹©äº† ORB æˆ– SIFT æ–¹æ³•ï¼Œåˆ™è°ƒç”¨ `applyFeatures` æ–¹æ³•ï¼›å¦‚æœé€‰æ‹©äº† ECC æ–¹æ³•ï¼Œåˆ™è°ƒç”¨ `applyEcc` æ–¹æ³•ï¼›å¦‚æœé€‰æ‹©äº†ç¨€ç–å…‰æµæ–¹æ³•ï¼Œåˆ™è°ƒç”¨ `applySparseOptFlow` æ–¹æ³•ã€‚

`applyEcc` æ–¹æ³•å®ç°äº†å¯¹è¾“å…¥å¸§åº”ç”¨ ECC ç®—æ³•çš„é€»è¾‘ã€‚å®ƒé¦–å…ˆå°†å¸§è½¬æ¢ä¸ºç°åº¦å›¾åƒï¼Œå¹¶åœ¨å¿…è¦æ—¶è¿›è¡Œä¸‹é‡‡æ ·ã€‚ç„¶åï¼Œå¦‚æœæ˜¯å¤„ç†ç¬¬ä¸€å¸§ï¼Œå®ƒä¼šåˆå§‹åŒ–å‰ä¸€å¸§å¹¶è¿”å›å•ä½çŸ©é˜µï¼›å¦åˆ™ï¼Œå®ƒä¼šä½¿ç”¨ `cv2.findTransformECC` å‡½æ•°è®¡ç®—å‰ä¸€å¸§å’Œå½“å‰å¸§ä¹‹é—´çš„å˜æ¢çŸ©é˜µã€‚

`applyFeatures` æ–¹æ³•åˆ™å®ç°äº†åŸºäºç‰¹å¾çš„æ–¹æ³•ï¼Œå¦‚ ORB æˆ– SIFTã€‚å®ƒåŒæ ·å°†å¸§è½¬æ¢ä¸ºç°åº¦å›¾åƒï¼Œå¹¶è¿›è¡Œä¸‹é‡‡æ ·ã€‚ç„¶åï¼Œå®ƒä¼šæ ¹æ®æä¾›çš„æ£€æµ‹ç»“æœåˆ›å»ºä¸€ä¸ªæ©ç ï¼Œæ£€æµ‹å…³é”®ç‚¹å¹¶è®¡ç®—æè¿°ç¬¦ã€‚å¦‚æœæ˜¯ç¬¬ä¸€å¸§ï¼Œåˆ™ä¼šåˆå§‹åŒ–å‰ä¸€å¸§ã€å…³é”®ç‚¹å’Œæè¿°ç¬¦ï¼›å¦åˆ™ï¼Œå®ƒä¼šé€šè¿‡åŒ¹é…æè¿°ç¬¦æ¥æ‰¾åˆ°å¯¹åº”çš„å…³é”®ç‚¹ï¼Œå¹¶ä½¿ç”¨ RANSAC æ–¹æ³•ä¼°è®¡åˆšæ€§å˜æ¢çŸ©é˜µã€‚

`applySparseOptFlow` æ–¹æ³•å®ç°äº†ç¨€ç–å…‰æµçš„é€»è¾‘ã€‚å®ƒé¦–å…ˆå°†å¸§è½¬æ¢ä¸ºç°åº¦å›¾åƒå¹¶è¿›è¡Œä¸‹é‡‡æ ·ï¼Œç„¶åä½¿ç”¨ `cv2.goodFeaturesToTrack` å‡½æ•°æ£€æµ‹å…³é”®ç‚¹ã€‚å¦‚æœæ˜¯ç¬¬ä¸€å¸§ï¼Œåˆ™åˆå§‹åŒ–ç›¸å…³æ•°æ®ï¼›å¦åˆ™ï¼Œå®ƒä¼šè®¡ç®—å‰ä¸€å¸§å’Œå½“å‰å¸§ä¹‹é—´çš„å…‰æµï¼Œå¹¶æ ¹æ®åŒ¹é…çš„å…³é”®ç‚¹ä¼°è®¡å˜æ¢çŸ©é˜µã€‚

æ­¤å¤–ï¼Œç±»è¿˜æä¾›äº†ä¸€ä¸ª `reset_params` æ–¹æ³•ï¼Œç”¨äºé‡ç½®æ‰€æœ‰å‚æ•°ï¼Œä»¥ä¾¿åœ¨éœ€è¦æ—¶é‡æ–°åˆå§‹åŒ–è·Ÿè¸ªå™¨ã€‚

æ€»ä½“è€Œè¨€ï¼Œè¿™ä¸ªç±»ä¸ºè§†é¢‘å¤„ç†ä¸­çš„ç‰©ä½“è·Ÿè¸ªæä¾›äº†çµæ´»çš„å®ç°ï¼Œå…è®¸ç”¨æˆ·æ ¹æ®éœ€è¦é€‰æ‹©ä¸åŒçš„è·Ÿè¸ªç®—æ³•ï¼Œå¹¶èƒ½å¤Ÿå¤„ç†ä¸åŒåˆ†è¾¨ç‡çš„å¸§ã€‚

#### 11.2 70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\data\augment.py

ä»¥ä¸‹æ˜¯ç»è¿‡ç®€åŒ–å’Œæ³¨é‡Šçš„æ ¸å¿ƒä»£ç éƒ¨åˆ†ï¼Œä¸»è¦åŒ…æ‹¬å›¾åƒå¢å¼ºå’Œè½¬æ¢çš„ç›¸å…³ç±»ã€‚æ³¨é‡Šè¯¦ç»†è§£é‡Šäº†æ¯ä¸ªç±»å’Œæ–¹æ³•çš„åŠŸèƒ½åŠå…¶å‚æ•°ã€‚

```python
import random
import numpy as np
import cv2

class BaseTransform:
    """
    å›¾åƒè½¬æ¢çš„åŸºç¡€ç±»ï¼Œæä¾›äº†åº”ç”¨äºå›¾åƒå’Œæ ‡ç­¾çš„åŸºæœ¬æ–¹æ³•ã€‚
    """

    def __init__(self) -> None:
        """åˆå§‹åŒ–åŸºç¡€è½¬æ¢å¯¹è±¡ã€‚"""
        pass

    def apply_image(self, labels):
        """åº”ç”¨å›¾åƒè½¬æ¢åˆ°æ ‡ç­¾ã€‚"""
        pass

    def apply_instances(self, labels):
        """åº”ç”¨è½¬æ¢åˆ°æ ‡ç­¾ä¸­çš„å¯¹è±¡å®ä¾‹ã€‚"""
        pass

    def apply_semantic(self, labels):
        """åº”ç”¨è¯­ä¹‰åˆ†å‰²åˆ°å›¾åƒã€‚"""
        pass

    def __call__(self, labels):
        """åº”ç”¨æ‰€æœ‰æ ‡ç­¾è½¬æ¢åˆ°å›¾åƒã€å®ä¾‹å’Œè¯­ä¹‰æ©ç ã€‚"""
        self.apply_image(labels)
        self.apply_instances(labels)
        self.apply_semantic(labels)


class Compose:
    """
    ç»„åˆå¤šä¸ªå›¾åƒè½¬æ¢çš„ç±»ã€‚
    """

    def __init__(self, transforms):
        """åˆå§‹åŒ–ç»„åˆå¯¹è±¡ï¼Œæ¥æ”¶è½¬æ¢åˆ—è¡¨ã€‚"""
        self.transforms = transforms

    def __call__(self, data):
        """å¯¹è¾“å…¥æ•°æ®åº”ç”¨ä¸€ç³»åˆ—è½¬æ¢ã€‚"""
        for t in self.transforms:
            data = t(data)
        return data


class RandomFlip:
    """
    éšæœºæ°´å¹³æˆ–å‚ç›´ç¿»è½¬å›¾åƒçš„ç±»ã€‚
    """

    def __init__(self, p=0.5, direction='horizontal') -> None:
        """
        åˆå§‹åŒ–éšæœºç¿»è½¬ç±»ã€‚

        å‚æ•°:
            p (float): ç¿»è½¬çš„æ¦‚ç‡ï¼ŒèŒƒå›´åœ¨0åˆ°1ä¹‹é—´ã€‚
            direction (str): ç¿»è½¬æ–¹å‘ï¼Œæ”¯æŒ'horizontal'æˆ–'vertical'ã€‚
        """
        assert direction in ['horizontal', 'vertical'], f'æ–¹å‘å¿…é¡»ä¸º`horizontal`æˆ–`vertical`ï¼Œä½†å¾—åˆ°äº†{direction}'
        assert 0 <= p <= 1.0
        self.p = p
        self.direction = direction

    def __call__(self, labels):
        """
        å¯¹å›¾åƒåº”ç”¨éšæœºç¿»è½¬ï¼Œå¹¶ç›¸åº”æ›´æ–°å®ä¾‹ï¼ˆå¦‚è¾¹ç•Œæ¡†ã€å…³é”®ç‚¹ç­‰ï¼‰ã€‚

        å‚æ•°:
            labels (dict): åŒ…å«å›¾åƒå’Œå®ä¾‹çš„å­—å…¸ã€‚

        è¿”å›:
            dict: æ›´æ–°åçš„å­—å…¸ï¼ŒåŒ…å«ç¿»è½¬åçš„å›¾åƒå’Œæ›´æ–°çš„å®ä¾‹ã€‚
        """
        img = labels['img']
        if self.direction == 'vertical' and random.random() < self.p:
            img = np.flipud(img)  # å‚ç›´ç¿»è½¬
        if self.direction == 'horizontal' and random.random() < self.p:
            img = np.fliplr(img)  # æ°´å¹³ç¿»è½¬
        labels['img'] = img
        return labels


class LetterBox:
    """
    å›¾åƒçš„LetterBoxè°ƒæ•´ç±»ï¼Œç”¨äºè°ƒæ•´å›¾åƒå¤§å°å¹¶æ·»åŠ è¾¹æ¡†ã€‚
    """

    def __init__(self, new_shape=(640, 640), auto=False):
        """åˆå§‹åŒ–LetterBoxå¯¹è±¡ï¼Œè®¾ç½®ç›®æ ‡å½¢çŠ¶å’Œè‡ªåŠ¨è°ƒæ•´æ ‡å¿—ã€‚"""
        self.new_shape = new_shape
        self.auto = auto

    def __call__(self, labels=None, image=None):
        """è¿”å›æ›´æ–°åçš„æ ‡ç­¾å’Œå›¾åƒï¼Œæ·»åŠ è¾¹æ¡†ã€‚"""
        img = labels.get('img') if image is None else image
        shape = img.shape[:2]  # å½“å‰å½¢çŠ¶ [é«˜åº¦, å®½åº¦]
        r = min(self.new_shape[0] / shape[0], self.new_shape[1] / shape[1])  # ç¼©æ”¾æ¯”ä¾‹
        new_unpad = int(round(shape[1] * r)), int(round(shape[0] * r))  # æ–°çš„æœªå¡«å……å°ºå¯¸
        dw, dh = self.new_shape[1] - new_unpad[0], self.new_shape[0] - new_unpad[1]  # å¡«å……å°ºå¯¸

        # è®¡ç®—å¡«å……
        dw, dh = dw / 2, dh / 2  # å°†å¡«å……åˆ†é…åˆ°ä¸¤ä¾§
        img = cv2.resize(img, new_unpad, interpolation=cv2.INTER_LINEAR)  # è°ƒæ•´å›¾åƒå¤§å°
        img = cv2.copyMakeBorder(img, int(round(dh)), int(round(dh)), int(round(dw)), int(round(dw)), 
                                  cv2.BORDER_CONSTANT, value=(114, 114, 114))  # æ·»åŠ è¾¹æ¡†
        labels['img'] = img
        return labels


class RandomHSV:
    """
    éšæœºè°ƒæ•´å›¾åƒçš„HSVï¼ˆè‰²ç›¸ã€é¥±å’Œåº¦ã€æ˜åº¦ï¼‰é€šé“çš„ç±»ã€‚
    """

    def __init__(self, hgain=0.5, sgain=0.5, vgain=0.5) -> None:
        """åˆå§‹åŒ–RandomHSVç±»ï¼Œè®¾ç½®æ¯ä¸ªHSVé€šé“çš„å¢ç›Šã€‚"""
        self.hgain = hgain
        self.sgain = sgain
        self.vgain = vgain

    def __call__(self, labels):
        """å¯¹å›¾åƒåº”ç”¨éšæœºHSVå¢å¼ºã€‚"""
        img = labels['img']
        if self.hgain or self.sgain or self.vgain:
            r = np.random.uniform(-1, 1, 3) * [self.hgain, self.sgain, self.vgain] + 1  # éšæœºå¢ç›Š
            img_hsv = cv2.cvtColor(img, cv2.COLOR_BGR2HSV)
            img_hsv[..., 0] = (img_hsv[..., 0] * r[0]) % 180  # è‰²ç›¸è°ƒæ•´
            img_hsv[..., 1] = np.clip(img_hsv[..., 1] * r[1], 0, 255)  # é¥±å’Œåº¦è°ƒæ•´
            img_hsv[..., 2] = np.clip(img_hsv[..., 2] * r[2], 0, 255)  # æ˜åº¦è°ƒæ•´
            img = cv2.cvtColor(img_hsv, cv2.COLOR_HSV2BGR)  # è½¬å›BGR
        labels['img'] = img
        return labels
```

### ä»£ç è¯´æ˜ï¼š
1. **BaseTransform**: åŸºç¡€è½¬æ¢ç±»ï¼Œå®šä¹‰äº†å›¾åƒè½¬æ¢çš„åŸºæœ¬æ¥å£ã€‚
2. **Compose**: ç”¨äºç»„åˆå¤šä¸ªè½¬æ¢çš„ç±»ï¼ŒæŒ‰é¡ºåºåº”ç”¨è½¬æ¢ã€‚
3. **RandomFlip**: éšæœºç¿»è½¬å›¾åƒçš„ç±»ï¼Œæ”¯æŒæ°´å¹³å’Œå‚ç›´ç¿»è½¬ã€‚
4. **LetterBox**: è°ƒæ•´å›¾åƒå¤§å°å¹¶æ·»åŠ è¾¹æ¡†çš„ç±»ï¼Œé€‚ç”¨äºç›®æ ‡æ£€æµ‹ã€‚
5. **RandomHSV**: éšæœºè°ƒæ•´å›¾åƒçš„HSVé€šé“çš„ç±»ï¼Œç”¨äºå¢å¼ºå›¾åƒçš„è‰²å½©ã€‚

è¿™äº›ç±»å’Œæ–¹æ³•å¯ä»¥ç”¨äºæ•°æ®å¢å¼ºï¼Œä»¥æé«˜æ¨¡å‹çš„é²æ£’æ€§å’Œå‡†ç¡®æ€§ã€‚

è¿™ä¸ªæ–‡ä»¶æ˜¯YOLOv8ç®—æ³•ä¸­çš„æ•°æ®å¢å¼ºæ¨¡å—ï¼Œä¸»è¦ç”¨äºå¯¹å›¾åƒè¿›è¡Œå„ç§å˜æ¢ï¼Œä»¥æé«˜æ¨¡å‹çš„é²æ£’æ€§å’Œæ³›åŒ–èƒ½åŠ›ã€‚ä»£ç ä¸­å®šä¹‰äº†å¤šä¸ªç±»ï¼Œæ¯ä¸ªç±»è´Ÿè´£ä¸åŒçš„å›¾åƒå¢å¼ºæ“ä½œã€‚

é¦–å…ˆï¼Œ`BaseTransform`ç±»æ˜¯ä¸€ä¸ªåŸºç±»ï¼Œæä¾›äº†åŸºæœ¬çš„å›¾åƒå˜æ¢æ–¹æ³•ï¼ŒåŒ…æ‹¬å¯¹å›¾åƒã€å®ä¾‹å’Œè¯­ä¹‰åˆ†å‰²çš„å¤„ç†ã€‚å®ƒçš„`__call__`æ–¹æ³•ä¼šä¾æ¬¡è°ƒç”¨è¿™äº›å˜æ¢ã€‚

`Compose`ç±»ç”¨äºå°†å¤šä¸ªå˜æ¢ç»„åˆåœ¨ä¸€èµ·ï¼Œå…è®¸ç”¨æˆ·æŒ‰é¡ºåºåº”ç”¨ä¸€ç³»åˆ—å˜æ¢ã€‚å®ƒæä¾›äº†æ·»åŠ æ–°å˜æ¢å’Œå°†å˜æ¢åˆ—è¡¨è½¬æ¢ä¸ºæ ‡å‡†Pythonåˆ—è¡¨çš„æ–¹æ³•ã€‚

`BaseMixTransform`ç±»æ˜¯ä¸€ä¸ªåŸºç¡€ç±»ï¼Œç”¨äºå®ç°æ··åˆå¢å¼ºï¼ˆå¦‚MixUpå’ŒMosaicï¼‰ã€‚å®ƒçš„`__call__`æ–¹æ³•ä¼šè·å–å…¶ä»–å›¾åƒçš„ä¿¡æ¯ï¼Œå¹¶åº”ç”¨æ··åˆå˜æ¢ã€‚

`Mosaic`ç±»ç»§æ‰¿è‡ª`BaseMixTransform`ï¼Œå®ç°äº†é©¬èµ›å…‹å¢å¼ºï¼Œé€šè¿‡å°†å¤šä¸ªå›¾åƒåˆå¹¶ä¸ºä¸€ä¸ªé©¬èµ›å…‹å›¾åƒæ¥å¢å¼ºæ•°æ®ã€‚è¯¥ç±»å…è®¸ç”¨æˆ·æŒ‡å®šé©¬èµ›å…‹çš„æ¦‚ç‡å’Œå¤§å°ã€‚

`MixUp`ç±»åŒæ ·ç»§æ‰¿è‡ª`BaseMixTransform`ï¼Œå®ç°äº†MixUpå¢å¼ºï¼Œå®ƒé€šè¿‡å°†ä¸¤å¼ å›¾åƒæ··åˆåœ¨ä¸€èµ·ï¼Œç”Ÿæˆæ–°çš„å›¾åƒå’Œæ ‡ç­¾ã€‚

`RandomPerspective`ç±»å®ç°äº†éšæœºé€è§†å˜æ¢å’Œä»¿å°„å˜æ¢ï¼Œèƒ½å¤Ÿå¯¹å›¾åƒåŠå…¶å¯¹åº”çš„è¾¹ç•Œæ¡†ã€åˆ†å‰²å’Œå…³é”®ç‚¹è¿›è¡Œå˜æ¢ã€‚å®ƒæ”¯æŒæ—‹è½¬ã€å¹³ç§»ã€ç¼©æ”¾å’Œå‰ªåˆ‡ç­‰æ“ä½œã€‚

`RandomHSV`ç±»è´Ÿè´£å¯¹å›¾åƒçš„HSVé€šé“è¿›è¡Œéšæœºè°ƒæ•´ï¼Œä»¥å¢åŠ è‰²å½©çš„å¤šæ ·æ€§ã€‚

`RandomFlip`ç±»ç”¨äºéšæœºæ°´å¹³æˆ–å‚ç›´ç¿»è½¬å›¾åƒï¼Œå¹¶ç›¸åº”åœ°æ›´æ–°å®ä¾‹ï¼ˆå¦‚è¾¹ç•Œæ¡†å’Œå…³é”®ç‚¹ï¼‰ã€‚

`LetterBox`ç±»ç”¨äºè°ƒæ•´å›¾åƒå¤§å°å¹¶æ·»åŠ è¾¹æ¡†ï¼Œä»¥é€‚åº”YOLOæ¨¡å‹çš„è¾“å…¥è¦æ±‚ã€‚

`CopyPaste`ç±»å®ç°äº†Copy-Pasteå¢å¼ºï¼Œé€šè¿‡å°†å®ä¾‹ä»ä¸€å¼ å›¾åƒå¤åˆ¶åˆ°å¦ä¸€å¼ å›¾åƒæ¥å¢åŠ æ•°æ®çš„å¤šæ ·æ€§ã€‚

`Albumentations`ç±»æä¾›äº†ä¸€ç³»åˆ—é¢å¤–çš„å›¾åƒå¢å¼ºæ“ä½œï¼Œä½¿ç”¨äº†Albumentationsåº“ä¸­çš„åŠŸèƒ½ã€‚

`Format`ç±»ç”¨äºæ ¼å¼åŒ–å›¾åƒæ³¨é‡Šï¼Œä»¥ä¾¿åœ¨PyTorchçš„DataLoaderä¸­ä½¿ç”¨ã€‚

æœ€åï¼Œ`v8_transforms`å‡½æ•°å®šä¹‰äº†ä¸€ç³»åˆ—é’ˆå¯¹YOLOv8è®­ç»ƒçš„å›¾åƒè½¬æ¢æ“ä½œï¼Œç»“åˆäº†ä¸Šè¿°çš„å¤šä¸ªå¢å¼ºç±»ï¼Œä»¥ä¾¿åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­å¯¹å›¾åƒè¿›è¡Œæœ‰æ•ˆçš„é¢„å¤„ç†å’Œå¢å¼ºã€‚

æ•´ä½“æ¥çœ‹ï¼Œè¿™ä¸ªæ–‡ä»¶çš„ä¸»è¦ç›®çš„æ˜¯æä¾›å¤šç§æ•°æ®å¢å¼ºæ–¹æ³•ï¼Œä»¥ä¾¿åœ¨è®­ç»ƒYOLOv8æ¨¡å‹æ—¶æé«˜æ¨¡å‹çš„æ€§èƒ½å’Œé²æ£’æ€§ã€‚é€šè¿‡ç»„åˆä¸åŒçš„å¢å¼ºç­–ç•¥ï¼Œå¯ä»¥ç”Ÿæˆå¤šæ ·åŒ–çš„è®­ç»ƒæ ·æœ¬ï¼Œä»è€Œä½¿æ¨¡å‹åœ¨é¢å¯¹ä¸åŒåœºæ™¯å’Œæ¡ä»¶æ—¶æ›´å…·é€‚åº”æ€§ã€‚

#### 11.3 ui.py

```python
import sys
import subprocess

def run_script(script_path):
    """
    ä½¿ç”¨å½“å‰ Python ç¯å¢ƒè¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚

    Args:
        script_path (str): è¦è¿è¡Œçš„è„šæœ¬è·¯å¾„

    Returns:
        None
    """
    # è·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„
    python_path = sys.executable

    # æ„å»ºè¿è¡Œå‘½ä»¤ï¼Œä½¿ç”¨ streamlit è¿è¡ŒæŒ‡å®šçš„è„šæœ¬
    command = f'"{python_path}" -m streamlit run "{script_path}"'

    # æ‰§è¡Œå‘½ä»¤
    result = subprocess.run(command, shell=True)
    # æ£€æŸ¥å‘½ä»¤æ‰§è¡Œçš„è¿”å›ç ï¼Œ0 è¡¨ç¤ºæˆåŠŸï¼Œé 0 è¡¨ç¤ºå‡ºé”™
    if result.returncode != 0:
        print("è„šæœ¬è¿è¡Œå‡ºé”™ã€‚")

# ä¸»ç¨‹åºå…¥å£
if __name__ == "__main__":
    # æŒ‡å®šè¦è¿è¡Œçš„è„šæœ¬è·¯å¾„
    script_path = "web.py"  # è¿™é‡Œå¯ä»¥ç›´æ¥æŒ‡å®šè„šæœ¬åç§°

    # è°ƒç”¨å‡½æ•°è¿è¡Œè„šæœ¬
    run_script(script_path)
```

### ä»£ç æ ¸å¿ƒéƒ¨åˆ†è¯´æ˜ï¼š
1. **å¯¼å…¥æ¨¡å—**ï¼š
   - `sys`ï¼šç”¨äºè·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ã€‚
   - `subprocess`ï¼šç”¨äºæ‰§è¡Œå¤–éƒ¨å‘½ä»¤ã€‚

2. **`run_script` å‡½æ•°**ï¼š
   - æ¥æ”¶ä¸€ä¸ªå‚æ•° `script_path`ï¼Œè¡¨ç¤ºè¦è¿è¡Œçš„è„šæœ¬è·¯å¾„ã€‚
   - ä½¿ç”¨ `sys.executable` è·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ã€‚
   - æ„å»ºå‘½ä»¤å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ `streamlit` æ¨¡å—è¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚
   - ä½¿ç”¨ `subprocess.run` æ‰§è¡Œå‘½ä»¤ï¼Œå¹¶æ£€æŸ¥è¿”å›ç ä»¥åˆ¤æ–­è„šæœ¬æ˜¯å¦æˆåŠŸè¿è¡Œã€‚

3. **ä¸»ç¨‹åºå…¥å£**ï¼š
   - åœ¨ `if __name__ == "__main__":` å—ä¸­ï¼ŒæŒ‡å®šè¦è¿è¡Œçš„è„šæœ¬è·¯å¾„ï¼Œå¹¶è°ƒç”¨ `run_script` å‡½æ•°ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶åä¸º `ui.py`ï¼Œä¸»è¦åŠŸèƒ½æ˜¯ä½¿ç”¨å½“å‰çš„ Python ç¯å¢ƒæ¥è¿è¡Œä¸€ä¸ªæŒ‡å®šçš„è„šæœ¬ï¼Œå…·ä½“æ˜¯ä¸€ä¸ªåä¸º `web.py` çš„æ–‡ä»¶ã€‚ç¨‹åºé¦–å…ˆå¯¼å…¥äº†å¿…è¦çš„æ¨¡å—ï¼ŒåŒ…æ‹¬ `sys`ã€`os` å’Œ `subprocess`ï¼Œä»¥åŠä¸€ä¸ªè‡ªå®šä¹‰çš„è·¯å¾„å¤„ç†æ¨¡å— `abs_path`ã€‚

åœ¨ `run_script` å‡½æ•°ä¸­ï¼Œé¦–å…ˆè·å–å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ï¼Œä½¿ç”¨ `sys.executable` æ¥å®ç°ã€‚æ¥ç€ï¼Œæ„å»ºä¸€ä¸ªå‘½ä»¤å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªå‘½ä»¤å°†ä½¿ç”¨ Streamlit æ¡†æ¶æ¥è¿è¡ŒæŒ‡å®šçš„è„šæœ¬ã€‚å‘½ä»¤çš„æ ¼å¼æ˜¯ `"{python_path}" -m streamlit run "{script_path}"`ï¼Œå…¶ä¸­ `python_path` æ˜¯å½“å‰ Python è§£é‡Šå™¨çš„è·¯å¾„ï¼Œ`script_path` æ˜¯è¦è¿è¡Œçš„è„šæœ¬è·¯å¾„ã€‚

ç„¶åï¼Œä½¿ç”¨ `subprocess.run` æ–¹æ³•æ¥æ‰§è¡Œè¿™ä¸ªå‘½ä»¤ã€‚è¿™ä¸ªæ–¹æ³•ä¼šåœ¨ä¸€ä¸ªæ–°çš„ shell ä¸­è¿è¡Œå‘½ä»¤ï¼Œå¹¶ç­‰å¾…å…¶å®Œæˆã€‚å¦‚æœè„šæœ¬è¿è¡Œçš„è¿”å›ç ä¸ä¸ºé›¶ï¼Œè¡¨ç¤ºè¿è¡Œè¿‡ç¨‹ä¸­å‡ºç°äº†é”™è¯¯ï¼Œç¨‹åºä¼šæ‰“å°å‡ºâ€œè„šæœ¬è¿è¡Œå‡ºé”™ã€‚â€çš„æç¤ºä¿¡æ¯ã€‚

åœ¨æ–‡ä»¶çš„æœ€åéƒ¨åˆ†ï¼Œä½¿ç”¨ `if __name__ == "__main__":` è¯­å¥æ¥ç¡®ä¿å½“è¯¥æ–‡ä»¶ä½œä¸ºä¸»ç¨‹åºè¿è¡Œæ—¶ï¼Œæ‰ä¼šæ‰§è¡Œä»¥ä¸‹ä»£ç ã€‚è¿™é‡ŒæŒ‡å®šäº†è¦è¿è¡Œçš„è„šæœ¬è·¯å¾„ä¸º `web.py`ï¼Œå¹¶è°ƒç”¨ `run_script` å‡½æ•°æ¥æ‰§è¡Œè¿™ä¸ªè„šæœ¬ã€‚

æ€»çš„æ¥è¯´ï¼Œè¿™ä¸ªç¨‹åºçš„ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†æ–¹ä¾¿åœ°å¯åŠ¨ä¸€ä¸ª Streamlit åº”ç”¨ï¼Œç”¨æˆ·åªéœ€ä¿®æ”¹è„šæœ¬è·¯å¾„å³å¯è¿è¡Œä¸åŒçš„åº”ç”¨ã€‚

#### 11.4 70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\models\yolo\segment\__init__.py

```python
# å¯¼å…¥å¿…è¦çš„æ¨¡å—å’Œç±»
# Ultralytics YOLO ğŸš€, AGPL-3.0 license

# ä»å½“å‰åŒ…ä¸­å¯¼å…¥SegmentationPredictorç±»ï¼Œç”¨äºå›¾åƒåˆ†å‰²çš„é¢„æµ‹
from .predict import SegmentationPredictor

# ä»å½“å‰åŒ…ä¸­å¯¼å…¥SegmentationTrainerç±»ï¼Œç”¨äºè®­ç»ƒå›¾åƒåˆ†å‰²æ¨¡å‹
from .train import SegmentationTrainer

# ä»å½“å‰åŒ…ä¸­å¯¼å…¥SegmentationValidatorç±»ï¼Œç”¨äºéªŒè¯å›¾åƒåˆ†å‰²æ¨¡å‹çš„æ€§èƒ½
from .val import SegmentationValidator

# å®šä¹‰å½“å‰æ¨¡å—çš„å…¬å¼€æ¥å£ï¼Œå…è®¸å¤–éƒ¨è®¿é—®è¿™ä¸‰ä¸ªç±»
__all__ = 'SegmentationPredictor', 'SegmentationTrainer', 'SegmentationValidator'
```

### ä»£ç æ³¨é‡Šè¯´æ˜ï¼š
1. **å¯¼å…¥æ¨¡å—**ï¼šä»£ç é¦–å…ˆå¯¼å…¥äº†ä¸‰ä¸ªç±»ï¼Œåˆ†åˆ«ç”¨äºå›¾åƒåˆ†å‰²çš„é¢„æµ‹ã€è®­ç»ƒå’ŒéªŒè¯ã€‚è¿™äº›ç±»çš„åŠŸèƒ½æ˜¯å®ç°YOLOï¼ˆYou Only Look Onceï¼‰æ¨¡å‹åœ¨å›¾åƒåˆ†å‰²ä»»åŠ¡ä¸­çš„åº”ç”¨ã€‚
   
2. **`__all__` å˜é‡**ï¼šè¿™ä¸ªå˜é‡å®šä¹‰äº†æ¨¡å—çš„å…¬å…±æ¥å£ï¼ŒæŒ‡å®šäº†å“ªäº›ç±»å¯ä»¥è¢«å¤–éƒ¨è®¿é—®ã€‚è¿™æ ·åšçš„ç›®çš„æ˜¯ä¸ºäº†æ§åˆ¶æ¨¡å—çš„å‘½åç©ºé—´ï¼Œé¿å…ä¸å¿…è¦çš„ç±»è¢«å¯¼å…¥ï¼Œç¡®ä¿ä½¿ç”¨è€…åªæ¥è§¦åˆ°å¿…è¦çš„éƒ¨åˆ†ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶æ˜¯ä¸€ä¸ªPythonæ¨¡å—çš„åˆå§‹åŒ–æ–‡ä»¶ï¼Œå±äºUltralytics YOLOé¡¹ç›®çš„ä¸€éƒ¨åˆ†ï¼Œä¸»è¦ç”¨äºç›®æ ‡æ£€æµ‹å’Œåˆ†å‰²ä»»åŠ¡ã€‚æ–‡ä»¶çš„ä¸»è¦åŠŸèƒ½æ˜¯å¯¼å…¥å’Œå®šä¹‰è¯¥æ¨¡å—ä¸­å¯ç”¨çš„ç±»æˆ–å‡½æ•°ã€‚

é¦–å…ˆï¼Œæ–‡ä»¶é¡¶éƒ¨çš„æ³¨é‡Šè¯´æ˜äº†è¯¥é¡¹ç›®æ˜¯Ultralytics YOLOçš„å®ç°ï¼Œå¹¶ä¸”ä½¿ç”¨AGPL-3.0è®¸å¯è¯ï¼Œè¿™æ„å‘³ç€è¯¥ä»£ç æ˜¯å¼€æºçš„ï¼Œç”¨æˆ·å¯ä»¥è‡ªç”±ä½¿ç”¨å’Œä¿®æ”¹ï¼Œä½†éœ€è¦éµå¾ªç›¸åº”çš„è®¸å¯è¯æ¡æ¬¾ã€‚

æ¥ä¸‹æ¥ï¼Œæ–‡ä»¶é€šè¿‡ç›¸å¯¹å¯¼å…¥çš„æ–¹å¼å¼•å…¥äº†ä¸‰ä¸ªé‡è¦çš„ç±»ï¼š`SegmentationPredictor`ã€`SegmentationTrainer`å’Œ`SegmentationValidator`ã€‚è¿™äº›ç±»åˆ†åˆ«ç”¨äºå›¾åƒåˆ†å‰²çš„é¢„æµ‹ã€è®­ç»ƒå’ŒéªŒè¯ã€‚å…·ä½“æ¥è¯´ï¼š

- `SegmentationPredictor`ç±»è´Ÿè´£æ‰§è¡Œå›¾åƒåˆ†å‰²çš„é¢„æµ‹ä»»åŠ¡ï¼Œèƒ½å¤Ÿå¯¹è¾“å…¥çš„å›¾åƒè¿›è¡Œå¤„ç†å¹¶è¾“å‡ºåˆ†å‰²ç»“æœã€‚
- `SegmentationTrainer`ç±»ç”¨äºè®­ç»ƒæ¨¡å‹ï¼Œæä¾›äº†è®­ç»ƒè¿‡ç¨‹ä¸­çš„å„ç§åŠŸèƒ½å’Œå‚æ•°è®¾ç½®ï¼Œä»¥ä¾¿ç”¨æˆ·èƒ½å¤Ÿæ ¹æ®è‡ªå·±çš„æ•°æ®é›†è¿›è¡Œæ¨¡å‹è®­ç»ƒã€‚
- `SegmentationValidator`ç±»åˆ™ç”¨äºéªŒè¯è®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œè¯„ä¼°å…¶åœ¨éªŒè¯é›†ä¸Šçš„è¡¨ç°ï¼Œä»¥ç¡®ä¿æ¨¡å‹çš„æœ‰æ•ˆæ€§å’Œå‡†ç¡®æ€§ã€‚

æœ€åï¼Œ`__all__`å˜é‡å®šä¹‰äº†è¯¥æ¨¡å—ä¸­å¯ä»¥è¢«å¤–éƒ¨å¯¼å…¥çš„ç±»çš„åç§°ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œç”¨æˆ·åœ¨ä½¿ç”¨`from module import *`æ—¶ï¼Œåªä¼šå¯¼å…¥`SegmentationPredictor`ã€`SegmentationTrainer`å’Œ`SegmentationValidator`è¿™ä¸‰ä¸ªç±»ï¼Œé¿å…äº†ä¸å¿…è¦çš„å‘½åå†²çªå’Œæ··ä¹±ã€‚

æ€»çš„æ¥è¯´ï¼Œè¿™ä¸ªåˆå§‹åŒ–æ–‡ä»¶ä¸ºYOLOv8çš„åˆ†å‰²åŠŸèƒ½æä¾›äº†åŸºç¡€ç»“æ„ï¼Œæ–¹ä¾¿ç”¨æˆ·è¿›è¡Œå›¾åƒåˆ†å‰²ä»»åŠ¡çš„é¢„æµ‹ã€è®­ç»ƒå’ŒéªŒè¯ã€‚

#### 11.5 code\ultralytics\utils\__init__.py

ä»¥ä¸‹æ˜¯ä»£ç ä¸­æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œå¹¶é™„ä¸Šè¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šï¼š

```python
import os
import platform
import logging
from pathlib import Path
import torch
import yaml

# è®¾ç½® PyTorch çš„æ‰“å°é€‰é¡¹
torch.set_printoptions(linewidth=320, precision=4, profile="default")

# å®šä¹‰æ ¹ç›®å½•å’Œé…ç½®æ–‡ä»¶è·¯å¾„
FILE = Path(__file__).resolve()  # å½“å‰æ–‡ä»¶çš„ç»å¯¹è·¯å¾„
ROOT = FILE.parents[1]  # æ ¹ç›®å½•ï¼Œå‡è®¾å½“å‰æ–‡ä»¶åœ¨ utils ç›®å½•ä¸‹
DEFAULT_CFG_PATH = ROOT / "cfg/default.yaml"  # é»˜è®¤é…ç½®æ–‡ä»¶è·¯å¾„

# æ—¥å¿—è®¾ç½®
LOGGING_NAME = "ultralytics"  # æ—¥å¿—åç§°
def set_logging(name=LOGGING_NAME, verbose=True):
    """è®¾ç½®æ—¥å¿—è®°å½•ï¼Œæ”¯æŒ UTF-8 ç¼–ç ã€‚"""
    level = logging.INFO if verbose else logging.ERROR  # æ ¹æ® verbose è®¾ç½®æ—¥å¿—çº§åˆ«
    formatter = logging.Formatter("%(message)s")  # æ—¥å¿—æ ¼å¼
    stream_handler = logging.StreamHandler()  # åˆ›å»ºæµå¤„ç†å™¨
    stream_handler.setFormatter(formatter)  # è®¾ç½®æ ¼å¼
    logger = logging.getLogger(name)  # è·å–æ—¥å¿—è®°å½•å™¨
    logger.setLevel(level)  # è®¾ç½®æ—¥å¿—çº§åˆ«
    logger.addHandler(stream_handler)  # æ·»åŠ å¤„ç†å™¨
    logger.propagate = False  # ä¸ä¼ æ’­æ—¥å¿—
    return logger

# è®¾ç½®å…¨å±€æ—¥å¿—è®°å½•å™¨
LOGGER = set_logging(LOGGING_NAME, verbose=True)

# YAML æ–‡ä»¶è¯»å†™å‡½æ•°
def yaml_save(file="data.yaml", data=None, header=""):
    """å°†æ•°æ®ä¿å­˜ä¸º YAML æ ¼å¼çš„æ–‡ä»¶ã€‚"""
    if data is None:
        data = {}
    file = Path(file)  # è½¬æ¢ä¸º Path å¯¹è±¡
    if not file.parent.exists():
        file.parent.mkdir(parents=True, exist_ok=True)  # åˆ›å»ºçˆ¶ç›®å½•

    # å°†æ•°æ®å†™å…¥ YAML æ–‡ä»¶
    with open(file, "w", errors="ignore", encoding="utf-8") as f:
        if header:
            f.write(header)  # å†™å…¥å¤´éƒ¨ä¿¡æ¯
        yaml.safe_dump(data, f, sort_keys=False, allow_unicode=True)  # ä¿å­˜æ•°æ®

def yaml_load(file="data.yaml"):
    """ä» YAML æ–‡ä»¶åŠ è½½æ•°æ®ã€‚"""
    with open(file, errors="ignore", encoding="utf-8") as f:
        data = yaml.safe_load(f) or {}  # åŠ è½½æ•°æ®ï¼Œç¡®ä¿è¿”å›å­—å…¸
    return data

# é»˜è®¤é…ç½®åŠ è½½
DEFAULT_CFG_DICT = yaml_load(DEFAULT_CFG_PATH)  # ä»é»˜è®¤é…ç½®æ–‡ä»¶åŠ è½½é…ç½®
DEFAULT_CFG = SimpleNamespace(**DEFAULT_CFG_DICT)  # å°†é…ç½®è½¬æ¢ä¸ºå‘½åç©ºé—´å¯¹è±¡

# æ£€æŸ¥æ“ä½œç³»ç»Ÿç±»å‹
def is_ubuntu() -> bool:
    """æ£€æŸ¥å½“å‰æ“ä½œç³»ç»Ÿæ˜¯å¦ä¸º Ubuntuã€‚"""
    return platform.system() == "Linux" and os.path.exists("/etc/os-release") and "ID=ubuntu" in open("/etc/os-release").read()

# æ£€æŸ¥ç½‘ç»œè¿æ¥
def is_online() -> bool:
    """æ£€æŸ¥æ˜¯å¦åœ¨çº¿ã€‚"""
    import socket
    try:
        socket.create_connection(("1.1.1.1", 53), timeout=2)  # å°è¯•è¿æ¥åˆ°å…¬å…± DNS
        return True
    except OSError:
        return False

ONLINE = is_online()  # æ£€æŸ¥å½“å‰æ˜¯å¦åœ¨çº¿

# è®¾ç½®ç”¨æˆ·é…ç½®ç›®å½•
def get_user_config_dir(sub_dir="Ultralytics"):
    """è·å–ç”¨æˆ·é…ç½®ç›®å½•ã€‚"""
    if platform.system() == "Windows":
        path = Path.home() / "AppData" / "Roaming" / sub_dir
    elif platform.system() == "Darwin":  # macOS
        path = Path.home() / "Library" / "Application Support" / sub_dir
    else:  # Linux
        path = Path.home() / ".config" / sub_dir

    path.mkdir(parents=True, exist_ok=True)  # åˆ›å»ºç›®å½•
    return path

USER_CONFIG_DIR = get_user_config_dir()  # è·å–ç”¨æˆ·é…ç½®ç›®å½•
SETTINGS_YAML = USER_CONFIG_DIR / "settings.yaml"  # è®¾ç½® YAML æ–‡ä»¶è·¯å¾„

# è®¾ç½®é»˜è®¤é…ç½®
class SettingsManager(dict):
    """ç®¡ç† Ultralytics è®¾ç½®çš„ç±»ã€‚"""
    def __init__(self, file=SETTINGS_YAML):
        """åˆå§‹åŒ–è®¾ç½®ç®¡ç†å™¨ï¼ŒåŠ è½½å’ŒéªŒè¯å½“å‰è®¾ç½®ã€‚"""
        self.file = Path(file)
        if not self.file.exists():
            self.save()  # å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œä¿å­˜é»˜è®¤è®¾ç½®
        self.load()  # åŠ è½½è®¾ç½®

    def load(self):
        """ä» YAML æ–‡ä»¶åŠ è½½è®¾ç½®ã€‚"""
        super().update(yaml_load(self.file))  # æ›´æ–°å½“å‰è®¾ç½®

    def save(self):
        """ä¿å­˜å½“å‰è®¾ç½®åˆ° YAML æ–‡ä»¶ã€‚"""
        yaml_save(self.file, dict(self))  # ä¿å­˜è®¾ç½®

SETTINGS = SettingsManager()  # åˆå§‹åŒ–è®¾ç½®ç®¡ç†å™¨
```

### ä»£ç æ ¸å¿ƒéƒ¨åˆ†è¯´æ˜ï¼š
1. **æ—¥å¿—è®¾ç½®**ï¼šé€šè¿‡ `set_logging` å‡½æ•°è®¾ç½®æ—¥å¿—è®°å½•å™¨ï¼Œæ”¯æŒä¸åŒçš„æ—¥å¿—çº§åˆ«å’Œæ ¼å¼ã€‚
2. **YAML æ–‡ä»¶è¯»å†™**ï¼šå®šä¹‰äº† `yaml_save` å’Œ `yaml_load` å‡½æ•°ï¼Œç”¨äºå°†æ•°æ®ä¿å­˜ä¸º YAML æ ¼å¼æ–‡ä»¶å’Œä» YAML æ–‡ä»¶åŠ è½½æ•°æ®ã€‚
3. **é»˜è®¤é…ç½®åŠ è½½**ï¼šä»é»˜è®¤é…ç½®æ–‡ä»¶åŠ è½½é…ç½®ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºå‘½åç©ºé—´å¯¹è±¡ä»¥ä¾¿äºè®¿é—®ã€‚
4. **æ“ä½œç³»ç»Ÿå’Œç½‘ç»œæ£€æŸ¥**ï¼šå®šä¹‰äº†å‡½æ•°æ£€æŸ¥å½“å‰æ“ä½œç³»ç»Ÿæ˜¯å¦ä¸º Ubuntuï¼Œä»¥åŠæ£€æŸ¥ç½‘ç»œè¿æ¥çŠ¶æ€ã€‚
5. **ç”¨æˆ·é…ç½®ç›®å½•**ï¼šè·å–ç”¨æˆ·é…ç½®ç›®å½•å¹¶ç¡®ä¿å…¶å­˜åœ¨ã€‚
6. **è®¾ç½®ç®¡ç†**ï¼šé€šè¿‡ `SettingsManager` ç±»ç®¡ç† Ultralytics çš„è®¾ç½®ï¼Œæ”¯æŒåŠ è½½å’Œä¿å­˜åŠŸèƒ½ã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶æ˜¯Ultralytics YOLOï¼ˆYou Only Look Onceï¼‰é¡¹ç›®çš„ä¸€ä¸ªå·¥å…·æ¨¡å—ï¼Œä¸»è¦ç”¨äºåˆå§‹åŒ–å’Œé…ç½®ä¸€äº›åŸºæœ¬åŠŸèƒ½ã€‚æ–‡ä»¶ä¸­åŒ…å«äº†å¤šä¸ªåŠŸèƒ½å’Œç±»çš„å®šä¹‰ï¼Œä»¥ä¸‹æ˜¯å¯¹ä»£ç çš„é€æ­¥è®²è§£ã€‚

é¦–å…ˆï¼Œæ–‡ä»¶å¯¼å…¥äº†ä¸€ç³»åˆ—å¿…è¦çš„åº“ï¼ŒåŒ…æ‹¬æ ‡å‡†åº“å’Œç¬¬ä¸‰æ–¹åº“ã€‚æ ‡å‡†åº“å¦‚`os`ã€`platform`ã€`logging`ç­‰ç”¨äºç³»ç»Ÿæ“ä½œã€å¹³å°æ£€æµ‹å’Œæ—¥å¿—è®°å½•ï¼Œç¬¬ä¸‰æ–¹åº“å¦‚`torch`ã€`cv2`ã€`yaml`ç­‰åˆ™ç”¨äºæ·±åº¦å­¦ä¹ ã€å›¾åƒå¤„ç†å’Œé…ç½®æ–‡ä»¶çš„è¯»å†™ã€‚

æ¥ä¸‹æ¥ï¼Œæ–‡ä»¶å®šä¹‰äº†ä¸€äº›å¸¸é‡ï¼ŒåŒ…æ‹¬å½“å‰æ–‡ä»¶è·¯å¾„ã€æ ¹ç›®å½•ã€é»˜è®¤é…ç½®è·¯å¾„ã€çº¿ç¨‹æ•°ç­‰ã€‚è¿™äº›å¸¸é‡åœ¨åç»­çš„ä»£ç ä¸­ä¼šè¢«å¤šæ¬¡ä½¿ç”¨ï¼Œä»¥ç¡®ä¿ç¨‹åºåœ¨ä¸åŒç¯å¢ƒä¸‹çš„å…¼å®¹æ€§å’Œçµæ´»æ€§ã€‚

æ–‡ä»¶ä¸­è¿˜åŒ…å«äº†ä¸€ä¸ªå¸®åŠ©ä¿¡æ¯å­—ç¬¦ä¸²`HELP_MSG`ï¼Œæä¾›äº†å¦‚ä½•ä½¿ç”¨YOLOv8çš„ç¤ºä¾‹ï¼ŒåŒ…æ‹¬å®‰è£…ã€ä½¿ç”¨Python SDKå’Œå‘½ä»¤è¡Œæ¥å£çš„ç¤ºä¾‹ã€‚è¿™ä¸ºç”¨æˆ·æä¾›äº†å¿«é€Ÿå…¥é—¨çš„æŒ‡å¯¼ã€‚

æ¥ç€ï¼Œæ–‡ä»¶è®¾ç½®äº†ä¸€äº›PyTorchå’ŒNumPyçš„æ‰“å°é€‰é¡¹ï¼Œä»¥åŠOpenCVçš„çº¿ç¨‹æ•°ï¼Œç¡®ä¿åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹çš„ç¨³å®šæ€§ã€‚

å®šä¹‰äº†ä¸€ä¸ªè‡ªå®šä¹‰çš„`tqdm`ç±»ï¼Œç”¨äºè¿›åº¦æ¡çš„æ˜¾ç¤ºï¼Œæ”¯æŒæ ¹æ®å…¨å±€çš„è¯¦ç»†æ¨¡å¼è¿›è¡Œè°ƒæ•´ã€‚ç„¶åå®šä¹‰äº†ä¸€ä¸ª`SimpleClass`ç±»ï¼Œæä¾›äº†å‹å¥½çš„å­—ç¬¦ä¸²è¡¨ç¤ºå’Œå±æ€§è®¿é—®æ–¹æ³•ï¼Œä¾¿äºè°ƒè¯•å’Œä½¿ç”¨ã€‚

`IterableSimpleNamespace`ç±»æ˜¯å¯¹`SimpleNamespace`çš„æ‰©å±•ï¼Œå¢åŠ äº†å¯è¿­ä»£åŠŸèƒ½ï¼Œä½¿å¾—å¯ä»¥é€šè¿‡å­—å…¸å’Œå¾ªç¯æ¥ä½¿ç”¨ã€‚

æ–‡ä»¶ä¸­è¿˜å®šä¹‰äº†ä¸€äº›ä¸YAMLæ–‡ä»¶æ“ä½œç›¸å…³çš„å‡½æ•°ï¼Œå¦‚`yaml_save`å’Œ`yaml_load`ï¼Œç”¨äºä¿å­˜å’ŒåŠ è½½YAMLæ ¼å¼çš„æ•°æ®ã€‚è¿™äº›å‡½æ•°æ”¯æŒé”™è¯¯å¤„ç†å’Œæ–‡ä»¶è·¯å¾„çš„ç®¡ç†ã€‚

æ¥ä¸‹æ¥ï¼Œæ–‡ä»¶å®šä¹‰äº†ä¸€äº›ç¯å¢ƒæ£€æµ‹å‡½æ•°ï¼Œä¾‹å¦‚`is_ubuntu`ã€`is_colab`ã€`is_kaggle`ç­‰ï¼Œç”¨äºåˆ¤æ–­å½“å‰è„šæœ¬è¿è¡Œçš„ç¯å¢ƒã€‚è¿™äº›å‡½æ•°å¯ä»¥å¸®åŠ©ç¨‹åºæ ¹æ®ä¸åŒçš„ç¯å¢ƒåšå‡ºç›¸åº”çš„è°ƒæ•´ã€‚

æ­¤å¤–ï¼Œæ–‡ä»¶ä¸­è¿˜æœ‰ä¸€äº›ä¸Gitç›¸å…³çš„å‡½æ•°ï¼Œå¦‚`get_git_dir`ã€`get_git_origin_url`ç­‰ï¼Œç”¨äºè·å–å½“å‰Gitä»“åº“çš„ä¿¡æ¯ã€‚

åœ¨æ–‡ä»¶çš„æœ€åéƒ¨åˆ†ï¼Œç¨‹åºä¼šæ‰§è¡Œä¸€äº›åˆå§‹åŒ–æ“ä½œï¼ŒåŒ…æ‹¬æ£€æŸ¥é¦–æ¬¡å®‰è£…æ­¥éª¤ã€è®¾ç½®ç”¨æˆ·é…ç½®ç›®å½•ã€åº”ç”¨çŒ´å­è¡¥ä¸ç­‰ã€‚è¿™äº›æ“ä½œç¡®ä¿äº†ç¨‹åºåœ¨å¯åŠ¨æ—¶èƒ½å¤Ÿæ­£ç¡®é…ç½®å’Œè¿è¡Œã€‚

æ€»ä½“æ¥è¯´ï¼Œè¿™ä¸ªæ–‡ä»¶ä¸ºUltralytics YOLOé¡¹ç›®æä¾›äº†åŸºç¡€çš„å·¥å…·å’Œé…ç½®åŠŸèƒ½ï¼Œå¸®åŠ©ç”¨æˆ·æ›´æ–¹ä¾¿åœ°ä½¿ç”¨YOLOè¿›è¡Œç›®æ ‡æ£€æµ‹å’Œå…¶ä»–è®¡ç®—æœºè§†è§‰ä»»åŠ¡ã€‚

#### 11.6 70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\nn\modules\utils.py

ä»¥ä¸‹æ˜¯ä»£ç ä¸­æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œå¹¶é™„ä¸Šè¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šï¼š

```python
import torch
import torch.nn.functional as F

def multi_scale_deformable_attn_pytorch(value: torch.Tensor, value_spatial_shapes: torch.Tensor,
                                        sampling_locations: torch.Tensor,
                                        attention_weights: torch.Tensor) -> torch.Tensor:
    """
    å¤šå°ºåº¦å¯å˜å½¢æ³¨æ„åŠ›æœºåˆ¶ã€‚

    å‚æ•°:
        value: è¾“å…¥ç‰¹å¾å›¾ï¼Œå½¢çŠ¶ä¸º (bs, C, num_heads, embed_dims)ï¼Œ
               å…¶ä¸­ bs æ˜¯æ‰¹é‡å¤§å°ï¼ŒC æ˜¯é€šé“æ•°ï¼Œnum_heads æ˜¯å¤´æ•°ï¼Œembed_dims æ˜¯æ¯ä¸ªå¤´çš„ç»´åº¦ã€‚
        value_spatial_shapes: ç‰¹å¾å›¾çš„ç©ºé—´å½¢çŠ¶ï¼Œå½¢çŠ¶ä¸º (num_levels, 2)ï¼Œ
                              æ¯ä¸€è¡Œè¡¨ç¤ºä¸€ä¸ªç‰¹å¾å›¾çš„é«˜åº¦å’Œå®½åº¦ã€‚
        sampling_locations: é‡‡æ ·ä½ç½®ï¼Œå½¢çŠ¶ä¸º (bs, num_queries, num_heads, num_levels, num_points, 2)ï¼Œ
                           è¡¨ç¤ºæ¯ä¸ªæŸ¥è¯¢çš„é‡‡æ ·ä½ç½®ã€‚
        attention_weights: æ³¨æ„åŠ›æƒé‡ï¼Œå½¢çŠ¶ä¸º (bs, num_heads, num_queries, num_levels, num_points)ã€‚

    è¿”å›:
        output: è¾“å‡ºç‰¹å¾å›¾ï¼Œå½¢çŠ¶ä¸º (bs, num_queries, num_heads * embed_dims)ã€‚
    """

    # è·å–è¾“å…¥çš„ç»´åº¦ä¿¡æ¯
    bs, _, num_heads, embed_dims = value.shape  # æ‰¹é‡å¤§å°ã€é€šé“æ•°ã€å¤´æ•°ã€æ¯ä¸ªå¤´çš„ç»´åº¦
    _, num_queries, _, num_levels, num_points, _ = sampling_locations.shape  # æŸ¥è¯¢æ•°ã€ç‰¹å¾å›¾å±‚æ•°ã€æ¯å±‚çš„é‡‡æ ·ç‚¹æ•°

    # å°†è¾“å…¥ç‰¹å¾å›¾æŒ‰ç…§ç©ºé—´å½¢çŠ¶åˆ†å‰²æˆå¤šä¸ªç‰¹å¾å›¾
    value_list = value.split([H_ * W_ for H_, W_ in value_spatial_shapes], dim=1)
    
    # å°†é‡‡æ ·ä½ç½®è½¬æ¢åˆ°[-1, 1]çš„èŒƒå›´
    sampling_grids = 2 * sampling_locations - 1
    sampling_value_list = []

    # éå†æ¯ä¸ªç‰¹å¾å›¾å±‚
    for level, (H_, W_) in enumerate(value_spatial_shapes):
        # å¯¹ç‰¹å¾å›¾è¿›è¡Œå¤„ç†ï¼Œå°†å…¶å½¢çŠ¶è°ƒæ•´ä¸º (bs*num_heads, embed_dims, H_, W_)
        value_l_ = (value_list[level].flatten(2).transpose(1, 2).reshape(bs * num_heads, embed_dims, H_, W_))
        
        # å¤„ç†é‡‡æ ·ä½ç½®ï¼Œå°†å…¶å½¢çŠ¶è°ƒæ•´ä¸º (bs*num_heads, num_queries, num_points, 2)
        sampling_grid_l_ = sampling_grids[:, :, :, level].transpose(1, 2).flatten(0, 1)
        
        # ä½¿ç”¨grid_sampleè¿›è¡ŒåŒçº¿æ€§æ’å€¼ï¼Œè·å–é‡‡æ ·å€¼
        sampling_value_l_ = F.grid_sample(value_l_,
                                          sampling_grid_l_,
                                          mode='bilinear',
                                          padding_mode='zeros',
                                          align_corners=False)
        sampling_value_list.append(sampling_value_l_)

    # å°†æ³¨æ„åŠ›æƒé‡çš„å½¢çŠ¶è°ƒæ•´ä¸º (bs*num_heads, 1, num_queries, num_levels*num_points)
    attention_weights = attention_weights.transpose(1, 2).reshape(bs * num_heads, 1, num_queries,
                                                                  num_levels * num_points)
    
    # è®¡ç®—æœ€ç»ˆè¾“å‡º
    output = ((torch.stack(sampling_value_list, dim=-2).flatten(-2) * attention_weights).sum(-1).view(
        bs, num_heads * embed_dims, num_queries))
    
    return output.transpose(1, 2).contiguous()  # è¿”å›å½¢çŠ¶ä¸º (bs, num_queries, num_heads * embed_dims) çš„è¾“å‡º
```

### ä»£ç è¯´æ˜ï¼š
1. **å¤šå°ºåº¦å¯å˜å½¢æ³¨æ„åŠ›æœºåˆ¶**ï¼šè¯¥å‡½æ•°å®ç°äº†å¤šå°ºåº¦çš„å¯å˜å½¢æ³¨æ„åŠ›æœºåˆ¶ï¼Œä¸»è¦ç”¨äºå¤„ç†ä¸åŒå°ºåº¦çš„ç‰¹å¾å›¾ã€‚
2. **è¾“å…¥å‚æ•°**ï¼š
   - `value`ï¼šè¾“å…¥ç‰¹å¾å›¾ï¼ŒåŒ…å«å¤šä¸ªå¤´çš„ç‰¹å¾ä¿¡æ¯ã€‚
   - `value_spatial_shapes`ï¼šç‰¹å¾å›¾çš„ç©ºé—´å½¢çŠ¶ï¼Œæä¾›æ¯ä¸ªç‰¹å¾å›¾çš„é«˜åº¦å’Œå®½åº¦ã€‚
   - `sampling_locations`ï¼šæŒ‡å®šåœ¨ç‰¹å¾å›¾ä¸Šé‡‡æ ·çš„ä½ç½®ã€‚
   - `attention_weights`ï¼šæ¯ä¸ªæŸ¥è¯¢çš„æ³¨æ„åŠ›æƒé‡ï¼Œæ§åˆ¶ä¸åŒé‡‡æ ·ç‚¹çš„å½±å“åŠ›ã€‚
3. **è¾“å‡º**ï¼šå‡½æ•°è¿”å›ç»è¿‡æ³¨æ„åŠ›æœºåˆ¶å¤„ç†åçš„ç‰¹å¾å›¾ï¼Œå½¢çŠ¶ä¸º `(bs, num_queries, num_heads * embed_dims)`ï¼Œå³æ¯ä¸ªæŸ¥è¯¢å¯¹åº”çš„ç‰¹å¾è¡¨ç¤ºã€‚

è¿™ä¸ªç¨‹åºæ–‡ä»¶æ˜¯ä¸€ä¸ªä¸YOLOv8ç®—æ³•ç›¸å…³çš„å·¥å…·æ¨¡å—ï¼Œä¸»è¦ç”¨äºå®ç°ä¸€äº›æ·±åº¦å­¦ä¹ æ¨¡å‹ä¸­çš„å¸¸ç”¨åŠŸèƒ½ã€‚æ–‡ä»¶ä¸­åŒ…å«äº†ä¸€äº›å‡½æ•°ï¼Œè¿™äº›å‡½æ•°ä¸»è¦ç”¨äºæ¨¡å—çš„å…‹éš†ã€æƒé‡åˆå§‹åŒ–ã€åsigmoidè®¡ç®—ä»¥åŠå¤šå°ºåº¦å¯å˜å½¢æ³¨æ„åŠ›æœºåˆ¶çš„å®ç°ã€‚

é¦–å…ˆï¼Œæ–‡ä»¶å¯¼å…¥äº†ä¸€äº›å¿…è¦çš„åº“ï¼ŒåŒ…æ‹¬`copy`ã€`math`ã€`numpy`å’Œ`torch`ç­‰ã€‚æ¥ç€ï¼Œå®šä¹‰äº†ä¸€ä¸ªè¾…åŠ©å‡½æ•°`_get_clones`ï¼Œè¯¥å‡½æ•°ç”¨äºæ ¹æ®ç»™å®šçš„æ¨¡å—åˆ›å»ºä¸€ä¸ªå…‹éš†æ¨¡å—çš„åˆ—è¡¨ã€‚è¿™åœ¨æ·±åº¦å­¦ä¹ ä¸­å¸¸ç”¨äºåˆ›å»ºå¤šä¸ªç›¸åŒçš„å±‚ï¼Œä»¥ä¾¿åœ¨æ¨¡å‹ä¸­é‡å¤ä½¿ç”¨ã€‚

æ¥ä¸‹æ¥ï¼Œ`bias_init_with_prob`å‡½æ•°ç”¨äºæ ¹æ®ç»™å®šçš„å…ˆéªŒæ¦‚ç‡åˆå§‹åŒ–å·ç§¯æˆ–å…¨è¿æ¥å±‚çš„åç½®å€¼ã€‚å®ƒé€šè¿‡è®¡ç®—è´Ÿå¯¹æ•°å‡ ç‡æ¥è¿”å›åç½®çš„åˆå§‹åŒ–å€¼ï¼Œè¿™åœ¨å¤„ç†äºŒåˆ†ç±»é—®é¢˜æ—¶éå¸¸æœ‰ç”¨ã€‚

`linear_init_`å‡½æ•°åˆ™æ˜¯ç”¨äºåˆå§‹åŒ–çº¿æ€§æ¨¡å—çš„æƒé‡å’Œåç½®ã€‚å®ƒé€šè¿‡å‡åŒ€åˆ†å¸ƒåœ¨ä¸€å®šèŒƒå›´å†…åˆå§‹åŒ–æƒé‡å’Œåç½®ï¼Œä»¥ç¡®ä¿æ¨¡å‹åœ¨è®­ç»ƒåˆæœŸçš„ç¨³å®šæ€§ã€‚

`inverse_sigmoid`å‡½æ•°å®ç°äº†åsigmoidå‡½æ•°çš„è®¡ç®—ã€‚è¯¥å‡½æ•°å¯¹è¾“å…¥çš„å¼ é‡è¿›è¡Œé™åˆ¶ï¼Œç¡®ä¿å…¶å€¼åœ¨0åˆ°1ä¹‹é—´ï¼Œç„¶åè®¡ç®—å…¶åsigmoidå€¼ã€‚è¿™åœ¨æŸäº›æƒ…å†µä¸‹å¯ä»¥ç”¨äºè°ƒæ•´æ¨¡å‹çš„è¾“å‡ºã€‚

æœ€åï¼Œ`multi_scale_deformable_attn_pytorch`å‡½æ•°å®ç°äº†å¤šå°ºåº¦å¯å˜å½¢æ³¨æ„åŠ›æœºåˆ¶ã€‚è¯¥å‡½æ•°æ¥æ”¶å¤šä¸ªè¾“å…¥ï¼ŒåŒ…æ‹¬å€¼å¼ é‡ã€ç©ºé—´å½¢çŠ¶ã€é‡‡æ ·ä½ç½®å’Œæ³¨æ„åŠ›æƒé‡ã€‚å®ƒé€šè¿‡å¯¹è¾“å…¥è¿›è¡Œä¸€ç³»åˆ—å˜æ¢å’Œå¤„ç†ï¼Œè®¡ç®—å‡ºæœ€ç»ˆçš„è¾“å‡ºã€‚è¿™ä¸ªè¿‡ç¨‹æ¶‰åŠåˆ°å¯¹è¾“å…¥è¿›è¡Œåˆ†å‰²ã€é‡å¡‘ã€é‡‡æ ·ç­‰æ“ä½œï¼Œæ—¨åœ¨å¢å¼ºæ¨¡å‹å¯¹ä¸åŒå°ºåº¦ç‰¹å¾çš„æ•æ‰èƒ½åŠ›ã€‚

æ€»ä½“æ¥è¯´ï¼Œè¿™ä¸ªæ–‡ä»¶æä¾›äº†ä¸€äº›åŸºç¡€çš„å·¥å…·å‡½æ•°å’Œå®ç°ï¼Œæ—¨åœ¨æ”¯æŒYOLOv8ç®—æ³•çš„è®­ç»ƒå’Œæ¨ç†è¿‡ç¨‹ã€‚é€šè¿‡è¿™äº›å·¥å…·ï¼Œç”¨æˆ·å¯ä»¥æ›´æ–¹ä¾¿åœ°æ„å»ºå’Œè°ƒè¯•æ·±åº¦å­¦ä¹ æ¨¡å‹ã€‚

### 12.ç³»ç»Ÿæ•´ä½“ç»“æ„ï¼ˆèŠ‚é€‰ï¼‰

### æ•´ä½“åŠŸèƒ½å’Œæ„æ¶æ¦‚æ‹¬

Ultralytics YOLOé¡¹ç›®æ˜¯ä¸€ä¸ªå¼€æºçš„ç›®æ ‡æ£€æµ‹å’Œå›¾åƒåˆ†å‰²æ¡†æ¶ï¼Œä¸»è¦åŸºäºYOLOv8ç®—æ³•ã€‚è¯¥é¡¹ç›®çš„æ•´ä½“åŠŸèƒ½åŒ…æ‹¬æ•°æ®å¤„ç†ã€æ¨¡å‹è®­ç»ƒã€æ¨ç†ã€å¯è§†åŒ–ä»¥åŠç»“æœè¯„ä¼°ç­‰ã€‚é¡¹ç›®çš„æ„æ¶ç”±å¤šä¸ªæ¨¡å—ç»„æˆï¼Œæ¯ä¸ªæ¨¡å—è´Ÿè´£ç‰¹å®šçš„åŠŸèƒ½ï¼Œå½¢æˆä¸€ä¸ªå®Œæ•´çš„å·¥ä½œæµã€‚

1. **æ•°æ®å¤„ç†**ï¼šåŒ…æ‹¬æ•°æ®å¢å¼ºã€æ•°æ®åŠ è½½å’Œé¢„å¤„ç†ï¼Œç¡®ä¿è¾“å…¥æ•°æ®çš„å¤šæ ·æ€§å’Œé€‚åº”æ€§ã€‚
2. **æ¨¡å‹å®šä¹‰**ï¼šåŒ…æ‹¬æ¨¡å‹çš„æ„å»ºã€åˆå§‹åŒ–å’Œå‚æ•°è®¾ç½®ï¼Œæ”¯æŒå¤šç§ç½‘ç»œç»“æ„å’Œè®­ç»ƒç­–ç•¥ã€‚
3. **è®­ç»ƒä¸éªŒè¯**ï¼šæä¾›è®­ç»ƒå’ŒéªŒè¯çš„åŠŸèƒ½ï¼Œèƒ½å¤Ÿæ ¹æ®ç”¨æˆ·çš„éœ€æ±‚è¿›è¡Œæ¨¡å‹è®­ç»ƒå’Œè¯„ä¼°ã€‚
4. **æ¨ç†ä¸å¯è§†åŒ–**ï¼šæ”¯æŒå¯¹æ–°æ•°æ®çš„æ¨ç†ï¼Œå¹¶æä¾›å¯è§†åŒ–å·¥å…·ä»¥å±•ç¤ºæ£€æµ‹ç»“æœã€‚
5. **å·¥å…·ä¸å®ç”¨åŠŸèƒ½**ï¼šåŒ…æ‹¬å„ç§å®ç”¨å·¥å…·å‡½æ•°ã€å›è°ƒå‡½æ•°å’Œç¯å¢ƒæ£€æµ‹ï¼Œå¸®åŠ©ç”¨æˆ·æ›´æ–¹ä¾¿åœ°ä½¿ç”¨å’Œè°ƒè¯•æ¨¡å‹ã€‚

### æ–‡ä»¶åŠŸèƒ½æ•´ç†è¡¨

| æ–‡ä»¶è·¯å¾„                                                                                     | åŠŸèƒ½æè¿°                                                         |
|--------------------------------------------------------------------------------------------|------------------------------------------------------------------|
| `code\ultralytics\trackers\utils\gmc.py`                                                  | å®ç°è§†é¢‘å¸§ä¸­çš„ç‰©ä½“è·Ÿè¸ªï¼Œæ”¯æŒå¤šç§è·Ÿè¸ªç®—æ³•ï¼ˆå¦‚ORBã€SIFTç­‰ï¼‰ã€‚     |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\data\augment.py`       | æä¾›å¤šç§æ•°æ®å¢å¼ºæ–¹æ³•ï¼Œä»¥æé«˜æ¨¡å‹çš„é²æ£’æ€§å’Œæ³›åŒ–èƒ½åŠ›ã€‚             |
| `ui.py`                                                                                    | å¯åŠ¨Streamlitåº”ç”¨ï¼Œç”¨äºå¯è§†åŒ–å’Œäº¤äº’å¼æ“ä½œã€‚                      |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\models\yolo\segment\__init__.py` | åˆå§‹åŒ–åˆ†å‰²æ¨¡å—ï¼Œå¯¼å…¥åˆ†å‰²ç›¸å…³çš„ç±»ï¼ˆå¦‚é¢„æµ‹å™¨ã€è®­ç»ƒå™¨ã€éªŒè¯å™¨ï¼‰ã€‚   |
| `code\ultralytics\utils\__init__.py`                                                     | æä¾›åŸºç¡€å·¥å…·å’Œé…ç½®åŠŸèƒ½ï¼Œæ”¯æŒç¯å¢ƒæ£€æµ‹ã€YAMLæ–‡ä»¶æ“ä½œç­‰ã€‚            |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\nn\modules\utils.py` | å®ç°æ·±åº¦å­¦ä¹ æ¨¡å‹çš„å¸¸ç”¨åŠŸèƒ½ï¼Œå¦‚æ¨¡å—å…‹éš†ã€æƒé‡åˆå§‹åŒ–å’Œå¯å˜å½¢æ³¨æ„åŠ›ã€‚ |
| `code\ultralytics\utils\callbacks\clearml.py`                                            | æä¾›ä¸ClearMLé›†æˆçš„å›è°ƒåŠŸèƒ½ï¼Œç”¨äºå®éªŒç®¡ç†å’Œç›‘æ§ã€‚                |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\models\fastsam\utils.py` | å®ç°FastSAMæ¨¡å‹çš„ç›¸å…³å·¥å…·å’ŒåŠŸèƒ½ã€‚                                |
| `train.py`                                                                                 | è®­ç»ƒYOLOv8æ¨¡å‹çš„ä¸»ç¨‹åºï¼Œè´Ÿè´£æ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹å’Œå‚æ•°è®¾ç½®ã€‚           |
| `70+ç§YOLOv8ç®—æ³•æ”¹è¿›æºç å¤§å…¨å’Œè°ƒè¯•åŠ è½½è®­ç»ƒæ•™ç¨‹ï¼ˆéå¿…è¦ï¼‰\ultralytics\models\utils\ops.py` | æä¾›æ¨¡å‹æ“ä½œçš„å·¥å…·å‡½æ•°ï¼Œå¦‚å·ç§¯ã€æ¿€æ´»ç­‰åŸºæœ¬æ“ä½œã€‚                 |
| `code\ultralytics\data\base.py`                                                           | å®šä¹‰æ•°æ®é›†çš„åŸºæœ¬ç±»å’Œæ•°æ®åŠ è½½åŠŸèƒ½ã€‚                               |
| `code\ultralytics\models\yolo\segment\train.py`                                          | å®ç°YOLOv8åˆ†å‰²æ¨¡å‹çš„è®­ç»ƒé€»è¾‘ã€‚                                   |
| `code\ultralytics\utils\callbacks\wb.py`                                                 | æä¾›ä¸Weights & Biasesé›†æˆçš„å›è°ƒåŠŸèƒ½ï¼Œç”¨äºå®éªŒè·Ÿè¸ªå’Œå¯è§†åŒ–ã€‚     |

è¿™ä¸ªè¡¨æ ¼æ€»ç»“äº†å„ä¸ªæ–‡ä»¶çš„ä¸»è¦åŠŸèƒ½ï¼Œå¸®åŠ©ç”¨æˆ·å¿«é€Ÿäº†è§£Ultralytics YOLOé¡¹ç›®çš„ç»“æ„å’Œå„ä¸ªæ¨¡å—çš„ä½œç”¨ã€‚

æ³¨æ„ï¼šç”±äºæ­¤åšå®¢ç¼–è¾‘è¾ƒæ—©ï¼Œä¸Šé¢â€œ11.é¡¹ç›®æ ¸å¿ƒæºç è®²è§£ï¼ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒçœ‹ä¸æ‡‚ä»£ç é€»è¾‘ï¼‰â€ä¸­éƒ¨åˆ†ä»£ç å¯èƒ½ä¼šä¼˜åŒ–å‡çº§ï¼Œä»…ä¾›å‚è€ƒå­¦ä¹ ï¼Œå®Œæ•´â€œè®­ç»ƒæºç â€ã€â€œWebå‰ç«¯ç•Œé¢â€å’Œâ€œ70+ç§åˆ›æ–°ç‚¹æºç â€ä»¥â€œ13.å®Œæ•´è®­ç»ƒ+Webå‰ç«¯ç•Œé¢+70+ç§åˆ›æ–°ç‚¹æºç ã€æ•°æ®é›†è·å–â€çš„å†…å®¹ä¸ºå‡†ã€‚

### 13.å®Œæ•´è®­ç»ƒ+Webå‰ç«¯ç•Œé¢+70+ç§åˆ›æ–°ç‚¹æºç ã€æ•°æ®é›†è·å–

![19.png](19.png)


# [ä¸‹è½½é“¾æ¥ï¼šhttps://mbd.pub/o/bread/ZpuXk5ht](https://mbd.pub/o/bread/ZpuXk5ht)